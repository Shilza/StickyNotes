(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{85:function(n,e,t){"use strict";t.d(e,"a",function(){return a});var r=t(0),a=function(n,e){Object(r.useEffect)(function(){var t=function(t){n.current&&!n.current.contains(t.target)&&e(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[n,e])}},88:function(n,e,t){"use strict";var r=t(7),a=t(8);function c(){var n=Object(r.a)(["\n    border: 1px solid #d1d1d1;\n    height: ","\n    padding: 0 10px;\n    outline: none;\n    transition: 0.4s;\n    box-sizing: border-box;\n    border-radius: 3px;\n    \n    &:focus {\n        border: 1px solid #2196f3;\n    }\n"]);return c=function(){return n},n}var o=a.c.input(c(),function(n){return n.height||"35px"});function i(){var n=Object(r.a)(["\n    display: flex;\n    flex-direction: column;\n    max-width: 320px;\n    min-height: 200px;\n    justify-content: space-evenly;\n    \n    ","+"," {\n      margin-top: 2px;\n    }\n"]);return i=function(){return n},n}var u=a.c.form(i(),o,o);function l(){var n=Object(r.a)(["\n    color: red;\n    margin: 10px 0;\n"]);return l=function(){return n},n}var d=a.c.span(l()),f=t(33);function b(){var n=Object(r.a)(["\n    position: relative;\n    background-color: #00bcd5;\n    color: #ffffff;\n    height: 30px;\n    transition: background-color 0.2s ease-in-out;\n    margin-top: 10px;\n    \n    font-size: 14px;\n    line-height: 1.55;\n    font-weight: 600;\n    border-width: 1px;\n    border-radius: 3px;\n    background-position: center center;\n    border-color: transparent;\n    border-style: solid;\n    box-shadow: 0 5px 20px 0 rgba(25,105,176,1);\n    \n    &:hover {\n      background-color: #00abc1;\n    }\n    \n    &:active {\n      background-color: #009eb3;\n    }\n"]);return b=function(){return n},n}var m=Object(a.c)(f.a)(b());t.d(e,"c",function(){return o}),t.d(e,"b",function(){return u}),t.d(e,"a",function(){return d}),t.d(e,"d",function(){return m})},99:function(n,e,t){"use strict";t.r(e);var r=t(7),a=t(0),c=t.n(a),o=t(84),i=t(8),u=t(86),l=t.n(u),d=t(87),f=t(33);function b(){var n=Object(r.a)(["\n    color: #6b778c;\n    display: flex;\n    align-items: center;\n    padding: 8px;\n    min-height: 32px;\n    border-radius: 3px;\n    \n    &:hover {\n       background: lightgray;\n       transition: 0.3s;\n    }\n    \n    span:first-of-type {\n       margin-left: 30px;\n    }\n"]);return b=function(){return n},n}var m=Object(i.c)(f.a)(b()),s=function(n){var e=n.addNewCard;return c.a.createElement(m,{onClick:e},c.a.createElement(f.c,{name:"plus"}),c.a.createElement("span",null,"Add new Card"))};function p(){var n=Object(r.a)(["\n    background-color: rgba(0,0,0,.12);\n    cursor: pointer;\n    color: #fff;\n    border-radius: 3px;\n    height: auto;\n    min-height: 32px;\n    padding: 6px 10px;\n    min-width: 270px;\n    max-width: 270px;\n    \n    @media (max-width: 425px) {\n      margin: 0 auto;\n    }\n"]);return p=function(){return n},n}var x=Object(i.c)(f.a)(p());function v(){var n=Object(r.a)(["\n  height: 28px;\n  width: 28px;\n  border-radius: 3px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: 0.3s;\n  \n  &:hover {\n    background: lightgray;\n  }\n  \n  &:active {\n    background: darkgray;\n  }\n"]);return v=function(){return n},n}var h=Object(i.c)(f.a)(v());function g(){var n=Object(r.a)(["\n  width: 100%;\n  height: 30px;\n  background-color: ",";\n  opacity: 0.9;\n  border-radius: 5px;\n  transition: 0.1s;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 0 10px;\n  cursor: pointer;\n  \n  &+& {\n    margin-top: 10px;\n  }\n  \n  &:hover {\n    opacity: 1;\n    transform: scale(1.01);\n  }\n"]);return g=function(){return n},n}var j=i.c.div(g(),function(n){return n.backgroundColor});function O(){var n=Object(r.a)(["\n    margin-top: 5px;\n    box-shadow: 0 4px 8px -2px rgba(9,30,66,.25), 0 0 0 1px rgba(9,30,66,.08);\n    width: 100%;\n    min-height: 80px;\n    margin-bottom: 15px;\n    resize: none;\n"]);return O=function(){return n},n}var I=i.c.textarea(O()),E=t(85);function w(){var n=Object(r.a)(["\n    box-sizing: border-box;\n    color: #6b778c;\n    display: block;\n    line-height: 40px;\n    border-bottom: 1px solid rgba(9,30,66,.13);\n    margin: 0 12px;\n    overflow: hidden;\n    padding: 0 32px;\n    position: relative;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    z-index: 1;\n"]);return w=function(){return n},n}var k=i.c.div(w()),y=t(26),$=t(27),C=t.n($);function S(){var n=Object(r.a)(["\n    mutation changeBoardColor($boardId: ID!, $color: String!) {\n        changeBoardColor(boardId: $boardId, color: $color)\n    }\n"]);return S=function(){return n},n}function R(){var n=Object(r.a)(["\n    mutation renameBoard($boardId: ID!, $title: String!) {\n        renameBoard(boardId: $boardId, title: $title)\n    }\n"]);return R=function(){return n},n}function D(){var n=Object(r.a)(["\n    mutation removeBoard($boardId: ID!) {\n        removeBoard(boardId: $boardId)\n    }\n"]);return D=function(){return n},n}function A(){var n=Object(r.a)(["\n    mutation reorderRecords($columnId: ID!, $oldIndex: Int!, $newIndex: Int!) {\n        reorderRecords(columnId: $columnId, oldIndex: $oldIndex, newIndex: $newIndex)\n    }\n"]);return A=function(){return n},n}function P(){var n=Object(r.a)(["\n    mutation reorderColumns($boardId: ID!, $oldIndex: Int!, $newIndex: Int!) {\n        reorderColumns(boardId: $boardId, oldIndex: $oldIndex, newIndex: $newIndex)\n    }\n"]);return P=function(){return n},n}function M(){var n=Object(r.a)(["\n    mutation removeRecord($recordId: ID!) {\n        removeRecord(recordId: $recordId)\n    }\n"]);return M=function(){return n},n}function z(){var n=Object(r.a)(["\n    mutation renameColumn($columnId: ID!, $title: String!) {\n        renameColumn(columnId: $columnId, title: $title)\n    }\n"]);return z=function(){return n},n}function B(){var n=Object(r.a)(["\n    mutation removeMark ($markId: ID!) {\n        removeMark(markId: $markId)\n    }\n"]);return B=function(){return n},n}function L(){var n=Object(r.a)(["\n    mutation createMark ($recordId: ID!, $color: String!) {\n        createMark(color: $color, recordId: $recordId) {\n            id, color\n        }\n    }\n"]);return L=function(){return n},n}function T(){var n=Object(r.a)(["\n    mutation updateRecord ($recordId: ID!, $text: String!) {\n        updateRecord(recordId: $recordId, text: $text)\n    }\n"]);return T=function(){return n},n}function F(){var n=Object(r.a)(["\n    mutation removeColumn ($columnId: ID!) {\n        removeColumn(columnId: $columnId)\n    }\n"]);return F=function(){return n},n}function N(){var n=Object(r.a)(["\n    mutation createColumn ($title: String!, $boardTitle: String!) {\n        createColumn(title: $title, boardTitle: $boardTitle) {\n            title, id, index, records {\n                text, columnId\n            }\n        }\n    }\n"]);return N=function(){return n},n}function q(){var n=Object(r.a)(["\n    mutation createRecord ($text: String!, $columnId: ID!) {\n        createRecord(text: $text, columnId: $columnId) {\n            id, text, index, createdAt, marks {\n                id, color\n            }\n        }\n    }\n"]);return q=function(){return n},n}function V(){var n=Object(r.a)(["\n    query board($title: String!) {\n        board(title: $title) {\n            id, title, color\n        }\n    }\n"]);return V=function(){return n},n}function H(){var n=Object(r.a)(["\n    query columns($title: String!) {\n        columns(title: $title) {\n            title, id, index, records {\n                id, text, index, createdAt, marks {\n                    id, color, \n                }\n            }\n        }\n    }\n"]);return H=function(){return n},n}var J=C()(H()),Z=C()(V()),G=C()(q()),Y=C()(N()),K=C()(F()),Q=C()(T()),U=C()(L()),W=C()(B()),X=C()(z()),_=C()(M()),nn=C()(P()),en=C()(A()),tn=C()(D()),rn=C()(R()),an=C()(S()),cn=t(50);function on(){var n=Object(r.a)(["\n    position: absolute;\n    background: #fff;\n    border-radius: 3px;\n    display: flex;\n    flex-direction: column;\n    box-shadow: 0 8px 16px -4px rgba(9,30,66,.25), 0 0 0 1px rgba(9,30,66,.08);\n    width: 300px;\n    padding: 4px;\n    z-index: 70;\n    top: ",";\n    left: ",";\n    text-align: center;\n    transform: translateZ(0);\n    \n    @media (max-width: 375px) {\n      width: 250px;\n    }\n    \n    @media (max-width: 768px) {\n      left: ",";\n    }\n"]);return on=function(){return n},n}var un=i.c.div(on(),function(n){return n.top||"45px"},function(n){return n.left||"220px"},function(n){return n.left||"30px"}),ln=t(28),dn=t(49),fn=Object(y.c)(function(n){var e=n.closePopover,t=n.columnId,r=n.client,i=n.op,u=Object(a.useRef)(null),l=Object(a.useState)(!1),d=Object(o.a)(l,2),b=d[0],m=d[1];Object(E.a)(u,e);return c.a.createElement(un,{ref:u},c.a.createElement(k,null,"Actions with list"),c.a.createElement(f.g,{onClick:i},"Rename list"),c.a.createElement(f.g,{onClick:function(){m(!0),r.mutate({mutation:K,variables:{columnId:t}}).then(function(){m(!1),e(),Object(cn.e)(t)}).catch(function(n){return ln.b.error(Object(dn.a)(n))})},disabled:b},"Remove list",b&&c.a.createElement(f.d,{color:"#fff"})))}),bn=t(88);function mn(){var n=Object(r.a)(["\n    font-weight: bold;\n"]);return mn=function(){return n},n}function sn(){var n=Object(r.a)(["\n    position: relative;\n    display: flex;\n    justify-content: space-between;\n    min-height: 34px;\n    padding: 10px 0 4px 0;\n    overflow: visible;\n"]);return sn=function(){return n},n}var pn=i.c.div(sn()),xn=i.c.span(mn()),vn=Object(y.c)(function(n){var e=n.icon,t=n.children,r=n.client,i=n.columnId,u=Object(a.useState)(!1),f=Object(o.a)(u,2),b=f[0],m=f[1],s=Object(a.useState)(!1),p=Object(o.a)(s,2),x=p[0],v=p[1],g=Object(a.useRef)(null),j=function(){var n=Object(d.a)(l.a.mark(function n(){return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m(!0);case 2:g.current.focus(),O();case 4:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();Object(E.a)(g,function(){var n=g.current.value;n!==t&&n.length>0&&n.length<20&&r.mutate({mutation:X,variables:{columnId:i,title:n}}).then(function(){Object(cn.h)({columnId:i,title:n})}).catch(function(n){return ln.b.error(Object(dn.a)(n))}),m(!1)});var O=function(){v(!1)};return c.a.createElement(pn,null,b?c.a.createElement(bn.c,{height:"28px",defaultValue:t,ref:g}):c.a.createElement(xn,null,t),c.a.createElement(h,{onClick:function(){v(!x)}},e),x&&c.a.createElement(fn,{op:j,closePopover:O,columnId:i}))}),hn=t(90),gn=t.n(hn),jn=t(22),On=function(n,e){var t=n.find(function(n){return n.records.find(function(n){return n.id===e})});return Object.is(t,void 0)?[]:t.records.find(function(n){return n.id===e}).marks};function In(){var n=Object(r.a)(["\n  width: 44px;\n  height: 6px;\n  border-radius: 3px;\n  opacity: 0.9;\n  background-color: ",";\n  cursor: pointer;\n  \n  &+& {\n    margin-left: 3px;\n  }\n"]);return In=function(){return n},n}function En(){var n=Object(r.a)(["\n  display: flex;\n  align-self: flex-start;\n  margin: 4px 0 8px 0;\n"]);return En=function(){return n},n}var wn=i.c.ul(En()),kn=i.c.li(In(),function(n){return n.backgroundColor}),yn=function(n){var e=n.recordId,t=Object(jn.a)(cn.a).columns,r=On(t,e);return c.a.createElement(c.a.Fragment,null,r.length>0&&c.a.createElement(wn,null,r.map(function(n,e){var t=n.color;return c.a.createElement(kn,{key:e,backgroundColor:t})})))};function $n(){var n=Object(r.a)(["\n    position: absolute;\n    left: calc(100% - 30px);\n    top: 1px;\n    transform: translateZ(0);\n    height: 28px;\n    width: 28px;\n    border-radius: 3px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: 0.3s;\n    background: lightgray;\n      \n    &:hover {\n      background: darkgray;\n    }\n      \n    &:active {\n      background: gray;\n    }\n"]);return $n=function(){return n},n}function Cn(){var n=Object(r.a)(["\n    position: relative;\n    background: #fff;\n    min-height: 30px;\n    border-radius: 3px;\n    margin: 8px 0;\n    padding: 4px;\n    cursor: grab;\n    word-break: break-all;\n    transition: 0.1s;\n    box-shadow: 0 1px 0 rgba(9,30,66,.25);\n    \n    &:hover {\n      background: whitesmoke;\n    }\n"]);return Cn=function(){return n},n}var Sn=i.c.li(Cn()),Rn=Object(i.c)(f.a)($n()),Dn=function(n){var e=n.record,t=Object(a.useState)(!1),r=Object(o.a)(t,2),i=r[0],u=r[1],l=gn()(),d=l.openPortal,b=l.closePortal,m=l.isOpen,s=l.Portal;return c.a.createElement(Sn,{onMouseOver:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},c.a.createElement(yn,{recordId:e.id}),e.text,i&&c.a.createElement(Rn,{onClick:function(){m?b():d()}},c.a.createElement(f.c,{name:"edit"})),m&&c.a.createElement(s,null,c.a.createElement(ue,{closePortal:b,record:e})))};function An(){var n=Object(r.a)(["\n    height: 55px;\n    resize: none;\n    border-radius: 3px;\n"]);return An=function(){return n},n}function Pn(){var n=Object(r.a)(["\n    background-color: #5aac44;\n    box-shadow: 0 1px 0 0 #3f6f21;\n    color: #fff;\n    font-weight: 700;\n    margin: 8px 4px 0 0;\n    padding: 6px 12px;\n    border-radius: 3px;\n    width: 100%;\n"]);return Pn=function(){return n},n}function Mn(){var n=Object(r.a)(["\n    display: flex;\n    flex-direction: column;\n    min-height: 90px;\n    margin-bottom: 6px;\n"]);return Mn=function(){return n},n}var zn=i.c.form(Mn()),Bn=Object(i.c)(f.a)(Pn()),Ln=i.c.textarea(An()),Tn=function(n){var e=n.createCard,t=n.removeNewCard,r=Object(a.useRef)(null),o=Object(a.useRef)(null);Object(E.a)(r,t);var i=function(){var n=Object(d.a)(l.a.mark(function n(t){return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,e(o.current.value);case 3:o.current&&(o.current.value="");case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();return c.a.createElement(zn,{onSubmit:i,ref:r},c.a.createElement(Ln,{ref:o,placeholder:"Enter text"}),c.a.createElement(Bn,{type:"submit"},"Add card"))};function Fn(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  border-radius: 5px;\n  padding: 15px;\n  width: 60%;\n"]);return Fn=function(){return n},n}var Nn=i.c.div(Fn()),qn=["#61bd4f","#ffed1a","#ff9f1a","#eb5a46"],Vn=Object(y.c)(function(n){var e=n.recordId,t=n.client,r=Object(jn.a)(cn.a).columns,a=On(r,e),o=function(n){a.some(function(e){return e.color===n})?function(n){var e=a.find(function(e){return e.color===n}).id;t.mutate({mutation:W,variables:{markId:e}}).then(function(){Object(cn.f)(e)}).catch(function(n){return ln.b.error(Object(dn.a)(n))})}(n):function(n){t.mutate({mutation:U,variables:{color:n,recordId:e}}).then(function(n){var t=n.data;Object(cn.c)({recordId:e,mark:t.createMark})}).catch(function(n){return ln.b.error(Object(dn.a)(n))})}(n)};return c.a.createElement(Nn,null,qn.map(function(n,e){return c.a.createElement(j,{key:e,onClick:function(){return o(n)},backgroundColor:n},a.some(function(e){return e.color===n})&&c.a.createElement(f.c,{name:"check"}))}))}),Hn=t(96);function Jn(){var n=Object(r.a)(["\n   overflow-y: auto;\n"]);return Jn=function(){return n},n}var Zn=i.c.ul(Jn()),Gn=Object(y.c)(function(n){var e=n.client,t=n.columnId,r=n.records,o=Object(a.useRef)(null);Object(a.useEffect)(function(){o.current.scrollTop=o.current.scrollHeight},[r.length]);var i=function(){var n=Object(d.a)(l.a.mark(function n(a){var c,o;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:c=a.oldIndex,(o=a.newIndex)!==c&&(Object(cn.j)({columnId:t,oldIndex:c,newIndex:o}),e.mutate({mutation:en,variables:{columnId:t,oldIndex:r[c].index,newIndex:r[o].index}}).catch(function(n){return ln.b.error(Object(dn.a)(n))}));case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();return c.a.createElement(Kn,{items:r,onSortEnd:i,containerRef:o})}),Yn=Object(Hn.SortableElement)(function(n){var e=n.item;return c.a.createElement(Dn,{record:e})}),Kn=Object(Hn.SortableContainer)(function(n){var e=n.items,t=n.containerRef;return c.a.createElement(Zn,{ref:t},Array.isArray(e)&&e.map(function(n,e){return c.a.createElement(Yn,{key:"record-".concat(e),index:e,item:n})}))});function Qn(){var n=Object(r.a)(["\n    background: #dfe1e6;\n    border-radius: 3px;\n    width: 270px;\n    padding: 4px 10px 6px 10px;\n    display: flex;\n    flex-direction: column;\n    white-space: normal;\n    margin: 0 10px;\n    height: 100%;\n    max-height: calc(100vh - 100px);\n"]);return Qn=function(){return n},n}var Un=i.c.div(Qn()),Wn=Object(y.c)(function(n){var e=n.client,t=n.item,r=Object(a.useState)(!1),i=Object(o.a)(r,2),u=i[0],l=i[1];return c.a.createElement(Un,null,c.a.createElement(vn,{icon:c.a.createElement(f.c,{name:"ellipsis"}),columnId:t.id},t.title),c.a.createElement(Gn,{columnId:t.id,records:t.records}),u?c.a.createElement(Tn,{createCard:function(n){n.length>0&&n.length<400&&e.mutate({mutation:G,variables:{columnId:t.id,text:n}}).then(function(n){var e=n.data;Object(cn.d)({columnId:t.id,record:e.createRecord})}).catch(function(n){return ln.b.error(Object(dn.a)(n))})},removeNewCard:function(){l(!1)}}):c.a.createElement(s,{addNewCard:function(){l(!0)}}))});function Xn(){var n=Object(r.a)(["\n  font-size: 0.9rem;\n  color: darkgray;\n"]);return Xn=function(){return n},n}function _n(){var n=Object(r.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: ",";\n"]);return _n=function(){return n},n}function ne(){var n=Object(r.a)(["\n  text-decoration: underline;\n  align-self: flex-start;\n  cursor: pointer;\n"]);return ne=function(){return n},n}function ee(){var n=Object(r.a)(["\n  font-size: 1.4rem;\n  font-weight: bold;\n  text-align: center;\n  margin: 0 0 8px 0;\n"]);return ee=function(){return n},n}function te(){var n=Object(r.a)(["\n  background: #f4f5f7;\n  width: 90%;\n  max-width: 600px;\n  max-height: 800px;\n  border-radius: 6px;\n  padding: 15px;\n  box-shadow: 5px 12px 50px 3px rgba(0,0,0,0.5);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return te=function(){return n},n}var re=i.c.form(te()),ae=i.c.div(ee()),ce=i.c.span(ne()),oe=i.c.div(_n(),function(n){return n.width||"100%"}),ie=i.c.time(Xn()),ue=Object(y.c)(function(n){var e=n.closePortal,t=n.client,r=n.record,i=r.id,u=r.text,b=r.createdAt,m=Object(a.useRef)(null),s=Object(a.useRef)(null),p=Object(a.useState)(!1),x=Object(o.a)(p,2),v=x[0],h=x[1];Object(E.a)(m,e);var g=function(){var n=Object(d.a)(l.a.mark(function n(r){var a;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),(a=s.current.value)!==u&&a.length>1&&a.length<400&&t.mutate({mutation:Q,variables:{text:a,recordId:i}}).then(function(){Object(cn.m)({text:a,recordId:i})}).catch(function(n){return ln.b.error(Object(dn.a)(n))}),e();case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();return c.a.createElement(f.f,null,c.a.createElement(re,{ref:m,onSubmit:g},c.a.createElement(ae,null,"Edit record"),c.a.createElement(yn,{recordId:i}),c.a.createElement(I,{ref:s,defaultValue:u}),c.a.createElement(oe,null,c.a.createElement(ce,{onClick:function(){h(!v)}},"Marks"),c.a.createElement(ie,{datetime:b},function(n){var e=new Date(parseInt(n));return"\n    ".concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"),"  \n    ").concat(e.getDate(),".").concat(e.getMonth(),".").concat(e.getFullYear(),"\n    ")}(b))),v&&c.a.createElement(Vn,{recordId:i}),c.a.createElement(oe,{width:"280px"},c.a.createElement(f.e,{green:!0},"Save"),c.a.createElement(f.e,{red:!0,onClick:function(){t.mutate({mutation:_,variables:{recordId:i}}).then(function(){Object(cn.g)(i),e()}).catch(function(n){return ln.b.error(Object(dn.a)(n))})}},"Remove"))))});function le(){var n=Object(r.a)(["\n    background-color: #5aac44;\n    box-shadow: 0 1px 0 0 #3f6f21;\n    color: #fff;\n    font-weight: 700;\n    line-height: 20px;\n    margin: 8px 4px 0 0;\n    padding: 6px 12px;\n    min-width: 60%;\n"]);return le=function(){return n},n}function de(){var n=Object(r.a)([""]);return de=function(){return n},n}function fe(){var n=Object(r.a)(["\n    background: #dfe1e6;\n    border-radius: 3px;\n    min-width: 270px;\n    min-height: 85px;\n    padding: 10px;\n    display: flex;\n    flex-direction: column;\n    white-space: normal;\n    margin: 0 10px;\n"]);return fe=function(){return n},n}var be=i.c.form(fe()),me=i.c.input(de()),se=Object(i.c)(f.a)(le()),pe=function(n){var e=n.closeNewColumn,t=n.createColumn,r=Object(a.useRef)(null),o=Object(a.useRef)(null);Object(E.a)(r,e);var i=function(){var n=Object(d.a)(l.a.mark(function n(e){return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,t(o.current.value);case 3:o.current&&(o.current.value="");case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();return c.a.createElement(be,{ref:r,onSubmit:i},c.a.createElement(me,{ref:o}),c.a.createElement(se,null,"Add list"))},xe=t(51),ve=t(12);function he(){var n=Object(r.a)(["\n  margin-right: 10px;\n"]);return he=function(){return n},n}function ge(){var n=Object(r.a)(["\n  margin: 10px 5px;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  color: #000;\n  cursor: pointer;\n"]);return ge=function(){return n},n}var je=i.c.label(ge()),Oe=i.c.span(he()),Ie=Object(ve.g)(Object(y.c)(function(n){var e=n.closePopover,t=n.history,r=n.client,i=Object(jn.a)(xe.a),u=i.id,l=i.color,d=Object(a.useRef)(null),b=Object(a.useRef)(null),m=Object(a.useState)(!1),s=Object(o.a)(m,2),p=s[0],x=s[1];Object(E.a)(d,e);return c.a.createElement(un,{ref:d,left:"calc(100% - 310px)",top:"38px"},c.a.createElement(k,null,"Actions with board"),c.a.createElement(je,{htmlFor:"colorPicked",onClick:function(){b.current.click()}},c.a.createElement(Oe,null,"Change color"),c.a.createElement(f.b,{onChange:function(n){var e=n.target.value;Object(xe.d)(e),r.mutate({mutation:an,variables:{boardId:u,color:e}}).catch(function(n){return ln.b.error(Object(dn.a)(n))})},ref:b,defaultValue:l})),c.a.createElement(f.g,{onClick:function(){x(!0),r.mutate({mutation:tn,variables:{boardId:u}}).then(function(){return t.push("/boards")}).catch(function(n){return ln.b.error(Object(dn.a)(n))})},disabled:p},"Remove board",p&&c.a.createElement(f.d,{color:"#fff"})))})),Ee=t(35);function we(){var n=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 30px;\n  width: 30px;\n  border-radius: 3px;\n  background-color: hsla(0,0%,100%,.2);\n  margin-right: 5px;\n"]);return we=function(){return n},n}function ke(){var n=Object(r.a)(["\n    position: relative;\n    color: #fff;\n    height: 30px;\n    padding: 4px 20px;\n    border-radius: 5px;\n    transition: 100ms;\n    margin-left: ",";\n    \n    &:hover {\n      background-color: rgba(0, 0, 0, 0.35);\n    }\n"]);return ke=function(){return n},n}function ye(){var n=Object(r.a)(["\n  position: relative;\n  width: 100%;\n  height: 40px;\n  padding: 0 10px 10px;\n  display: flex;\n"]);return ye=function(){return n},n}var $e=i.c.div(ye()),Ce=Object(i.c)(f.a)(ke(),function(n){return n.marginLeft}),Se=Object(i.c)(Ee.b)(we()),Re=Object(y.c)(function(n){var e=n.client,t=Object(jn.a)(xe.a),r=t.id,i=t.title,u=Object(a.useState)(!1),l=Object(o.a)(u,2),d=l[0],b=l[1],m=Object(a.useState)(!1),s=Object(o.a)(m,2),p=s[0],x=s[1],v=Object(a.useRef)(null);return Object(E.a)(v,function(){var n=v.current.value;n!==i&&e.mutate({mutation:rn,variables:{boardId:r,title:n}}).then(function(){return Object(xe.b)(n)}).catch(function(n){return ln.b.error(Object(dn.a)(n))}),x(!1)}),c.a.createElement($e,null,c.a.createElement(Se,{to:"/boards","aria-label":"Go to boards list"},c.a.createElement(f.h,{name:"home",viewBox:"0 0 611.997 611.998",fill:"#fff",width:"1.1em",height:"1.1em"})),p?c.a.createElement(bn.c,{autoFocus:!0,ref:v,defaultValue:i,height:"30px"}):c.a.createElement(Ce,{onClick:function(){x(!0)},"aria-label":"Edit board title"},i),c.a.createElement(Ce,{marginLeft:"auto",onClick:function(){b(!0)},"aria-label":"Open board options"},c.a.createElement(f.c,{color:"#fff",name:"ellipsis"})),d&&c.a.createElement(Ie,{closePopover:function(){b(!1)}}))}),De=Object(y.c)(function(n){var e=n.boardTitle,t=n.client,r=Object(a.useState)(!1),i=Object(o.a)(r,2),u=i[0],l=i[1];return c.a.createElement(c.a.Fragment,null,u?c.a.createElement(pe,{createColumn:function(n){n.length>0&&n.length<20&&t.mutate({mutation:Y,variables:{title:n,boardTitle:e}}).then(function(n){var e=n.data;Object(cn.b)(e.createColumn)}).catch(function(n){return ln.b.error(Object(dn.a)(n))})},closeNewColumn:function(){l(!1)}}):c.a.createElement(x,{onClick:function(){l(!0)}},"+ Add new list"))});function Ae(){var n=Object(r.a)(["\n    display: flex;\n"]);return Ae=function(){return n},n}var Pe=i.c.ul(Ae()),Me=Object(y.c)(function(n){var e=n.client,t=Object(jn.a)(cn.a).columns,r=Object(jn.a)(xe.a).id;return c.a.createElement(Be,{axis:"x",items:t,onSortEnd:function(n){var a=n.oldIndex,c=n.newIndex;c!==a&&(Object(cn.i)({oldIndex:a,newIndex:c}),e.mutate({mutation:nn,variables:{boardId:r,oldIndex:t[a].index,newIndex:t[c].index}}).catch(function(n){return ln.b.error(Object(dn.a)(n))}))}})}),ze=Object(Hn.SortableElement)(function(n){var e=n.item;return c.a.createElement(Wn,{item:e})}),Be=Object(Hn.SortableContainer)(function(n){var e=n.items;return c.a.createElement(Pe,null,e.map(function(n,e){return c.a.createElement(ze,{key:"column-".concat(e),index:e,item:n})}))});function Le(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: calc(100% - 40px);\n  padding: 10px 1% 0 1%;\n  background-color: ","\n"]);return Le=function(){return n},n}function Te(){var n=Object(r.a)(["\n   display: flex;\n   align-items: flex-start;\n   width: 100%;\n   height: 100%;\n   margin-top: 10px;\n   overflow-x: auto;\n"]);return Te=function(){return n},n}var Fe=i.c.div(Te()),Ne=i.c.div(Le(),function(n){return n.theme.backgroundColor||"#0067a3"}),qe=Object(y.c)(function(n){var e=n.match.params.title,t=n.client;return Object(a.useEffect)(function(){t.query({query:Z,variables:{title:e}}).then(function(n){var e=n.data;Object(xe.c)(e.board)}).catch(function(n){return ln.b.error(Object(dn.a)(n))})},[t,e]),c.a.createElement(Ne,null,c.a.createElement(y.b,{query:J,variables:{title:e},fetchPolicy:"no-cache"},function(n){var t=n.data,r=n.loading,a=n.error;return r?c.a.createElement(f.d,{width:"40px",height:"40px",color:"#fff",animationDuration:"0.8"}):a?c.a.createElement("div",null,"Error"):(Object(cn.l)(t.columns),c.a.createElement(c.a.Fragment,null,c.a.createElement(Re,null),c.a.createElement(Fe,null,c.a.createElement(Me,null),c.a.createElement(De,{boardTitle:e}))))}))});t.d(e,"default",function(){return qe})}}]);
//# sourceMappingURL=6.7dccb43a.chunk.js.map