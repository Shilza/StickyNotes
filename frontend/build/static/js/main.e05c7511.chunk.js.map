{"version":3,"sources":["features/auth/organisms/stickyNotes.png","features/common/models/auth.js","ui/atoms/Button.js","ui/atoms/LuminousButton.js","ui/atoms/PopoverButton.js","ui/atoms/Icon.js","ui/atoms/Loader.js","ui/atoms/Modal.js","ui/atoms/SvgIcon.js","ui/atoms/ColorPicker.js","features/auth/molecules/Header.js","features/auth/atoms/Input.js","features/auth/atoms/Form.js","features/auth/atoms/Error.js","features/auth/atoms/SubmitButton.js","features/auth/api/index.js","features/common/utils/index.js","features/auth/molecules/SignInForm.js","features/auth/molecules/SignUpForm.js","features/auth/molecules/MainBackground.js","features/auth/organisms/AuthForm.js","features/auth/organisms/Description.js","features/auth/pages/Welcome.js","features/dashboard/atoms/AddCardButton.js","features/dashboard/atoms/AddColumnButton.js","features/dashboard/atoms/OptionsButton.js","features/dashboard/atoms/Mark.js","features/dashboard/atoms/TextArea.js","features/dashboard/hooks/index.js","ui/molecules/PopoverTitle.js","features/dashboard/api/index.js","features/dashboard/models/dashboard.js","ui/organisms/Popover.js","features/dashboard/molecules/ColumnPopover.js","features/dashboard/molecules/Title.js","features/dashboard/selectors/index.js","features/dashboard/molecules/MiniMarks.js","features/dashboard/molecules/Card.js","features/dashboard/molecules/NewCard.js","features/dashboard/molecules/Marks.js","features/dashboard/organisms/Cards.js","features/dashboard/organisms/Column.js","features/dashboard/organisms/EditModal.js","features/dashboard/utils/index.js","features/dashboard/organisms/NewColumn.js","features/dashboard/models/board.js","features/dashboard/molecules/BoardPopover.js","features/dashboard/organisms/BoardHeader.js","features/dashboard/organisms/NewColumnContainer.js","features/dashboard/organisms/Columns.js","features/dashboard/pages/Dashboard.js","features/common/pages/NotFound.js","features/boards/api/index.js","features/boards/models/boards.js","features/boards/organisms/NewBoardModal.js","features/boards/organisms/ControlPanel.js","features/boards/molecules/Board.js","features/boards/organisms/BoardsList.js","features/boards/pages/Boards.js","routes/routes.js","routes/Public.js","routes/Private.js","features/common/api/index.js","features/common/organisms/Header.js","routes/index.js","App.js","serviceWorker.js","GlobalStyle.js","index.js"],"names":["module","exports","__webpack_require__","p","setUser","createEvent","resetAuth","$auth","createStore","authenticated","user","on","state","Object","objectSpread","Button","styled","button","_templateObject","LuminousButton","LuminousButton_templateObject","props","width","height","margin","color","green","red","zIndex","PopoverButton","PopoverButton_templateObject","Ellipsis","div","Icon_templateObject","Close","_templateObject2","Plus","_templateObject3","Edit","_templateObject4","Check","_templateObject5","Icon","_ref","name","react_default","a","createElement","getIconByName","objectWithoutProperties","Container","Loader_templateObject","animationDuration","Loader","Modal_templateObject","Modal","children","Modal_Container","SvgIcon","_ref$name","_ref$width","_ref$height","_ref$fill","fill","_ref$viewBox","viewBox","assign","focusable","role","xmlns","data-testid","d","getIconPath","ColorPicker_templateObject","Picker","input","ColorPicker_templateObject2","ColorPicker","React","forwardRef","ref","defaultValue","ColorPicker_Container","type","Header_templateObject","Location","Header_templateObject2","active","Header","setIsSignIn","isSignIn","Header_Container","onClick","Input","Input_templateObject","Form","form","Form_templateObject","Error","span","Error_templateObject","SubmitButton","SubmitButton_templateObject","SIGN_IN","gql","api_templateObject","SIGN_UP","api_templateObject2","getErrorMessage","error","toString","substring","length","SignInForm","withRouter","withApollo","client","history","_useState","useState","_useState2","slicedToArray","setError","_useState3","_useState4","username","setUsername","_useState5","_useState6","password","setPassword","_useState7","_useState8","isLoading","setIsLoading","signIn","_ref2","asyncToGenerator","regenerator_default","mark","_callee","event","result","wrap","_context","prev","next","preventDefault","mutate","mutation","variables","sent","data","push","t0","toast","finish","stop","_x","apply","this","arguments","onSubmit","placeholder","onChange","target","value","required","maxLength","disabled","Loader_Loader","SignUpForm","passwordConfirm","setPasswordConfirm","signUp","MainBackground_templateObject","Text","MainBackground_templateObject2","MainText","MainBackground_templateObject3","MainBackground","MainBackground_Container","AuthForm_templateObject","AuthForm","AuthForm_Container","Header_Header","Description_templateObject","stickyNotes","Title","h2","Description_templateObject2","Description_templateObject3","GoToBoardsButton","Description_templateObject4","Description","Description_Container","Description_Text","window","scrollTo","top","behavior","MainContainer","Welcome_templateObject","Welcome_templateObject2","AuthSide","Welcome_templateObject3","Logo","Welcome_templateObject4","AuthFormContainer","Welcome_templateObject5","AddButton","AddCardButton_templateObject","AddCardButton","addNewCard","Icon_Icon","AddColumnButton","AddColumnButton_templateObject","OptionsButton","OptionsButton_templateObject","Mark","Mark_templateObject","backgroundColor","TextArea","textarea","TextArea_templateObject","useOnClickOutside","handler","useEffect","listener","current","contains","document","addEventListener","removeEventListener","PopoverTitle","PopoverTitle_templateObject","GET_COLUMNS","dashboard_api_templateObject","GET_BOARD","dashboard_api_templateObject2","CREATE_RECORD","api_templateObject3","CREATE_COLUMN","api_templateObject4","REMOVE_COLUMN","api_templateObject5","UPDATE_RECORD","_templateObject6","CREATE_MARK","_templateObject7","REMOVE_MARK","_templateObject8","RENAME_COLUMN","_templateObject9","REMOVE_RECORD","_templateObject10","REORDER_COLUMNS","_templateObject11","REORDER_RECORDS","_templateObject12","REMOVE_BOARD","_templateObject13","RENAME_BOARD","_templateObject14","CHANGE_BOARD_COLOR","_templateObject15","setColumns","reorderColumns","addRecord","addMark","removeMark","addColumn","removeColumn","reorderRecords","updateRecord","renameColumn","removeRecord","resetDashboard","$dashboard","columns","oldIndex","newIndex","tempIndex","index","arrayMove","columnId","record","map","column","id","records","Array","isArray","_ref3","_ref4","recordId","text","filter","_ref5","findIndex","find","forEach","marks","concat","toConsumableArray","markId","_ref6","title","reset","Popover","Popover_templateObject","left","ColumnPopover","closePopover","op","popoverRef","useRef","then","catch","Title_templateObject","Title_templateObject2","icon","isTitleRenamed","setIsTitleRenamed","isPopoverOpen","setIsPopoverOpen","titleRef","focus","Title_Container","Title_Text","getMarksByRecordId","is","undefined","MarksList","ul","MiniMarks_templateObject","MiniMark","li","MiniMarks_templateObject2","MiniMarks","useStore","miniMarks","Fragment","key","Card_templateObject","EditButton","Card_templateObject2","Card","isEditHovered","setIsEditHovered","_usePortal","usePortal","openPortal","closePortal","isOpen","Portal","Card_Container","onMouseOver","onMouseLeave","MiniMarks_MiniMarks","EditModal","NewCard_templateObject","NewCard_templateObject2","NewCard_templateObject3","NewCard","createCard","removeNewCard","textRef","NewCard_Container","NewCard_TextArea","NewCard_AddButton","Marks_templateObject","colors","Marks","markOnClick","some","remove","createMark","Marks_Container","CardsList","Cards_templateObject","Cards","containerRef","scrollTop","scrollHeight","onSortEnd","SortableList","items","SortableItem","SortableElement","item","Card_Card","SortableContainer","Column_templateObject","Column","newCard","setNewCard","Column_Container","Title_Title","NewCard_NewCard","createRecord","AddCardButton_AddCardButton","ModalBody","EditModal_templateObject","EditModal_templateObject2","AddMark","EditModal_templateObject3","RowContainer","EditModal_templateObject4","Time","time","EditModal_templateObject5","defaultText","createdAt","modalBodyRef","textAreaRef","isMarksOpen","setIsMarksOpen","update","Modal_Modal","EditModal_Title","datetime","ms","date","Date","parseInt","getHours","padStart","getMinutes","getDate","getMonth","getFullYear","getTimeByMs","NewColumn_templateObject","TitleInput","NewColumn_templateObject2","NewColumn_templateObject3","NewColumn","closeNewColumn","createColumn","inputRef","onClickAdd","NewColumn_Container","NewColumn_AddButton","setCurrentBoard","setCurrentBoardColor","renameBoard","resetBoard","$board","ChangeColorContainer","label","BoardPopover_templateObject","ChangeColor","BoardPopover_templateObject2","BoardPopover","_useStore","colorRef","htmlFor","click","newColor","boardId","BoardHeader_templateObject","LocalButton","BoardHeader_templateObject2","marginLeft","HomeButton","Link","BoardHeader_templateObject3","BoardHeader","isTitleEdited","setIsTitleEdited","newTitle","BoardHeader_Container","to","aria-label","SvgIcon_SvgIcon","autoFocus","NewColumnContainer","boardTitle","isNewColumn","setIsNewColumn","NewColumn_NewColumn","ColumnsList","Columns_templateObject","Columns","Columns_SortableList","axis","Columns_SortableItem","MainContent","Dashboard_templateObject","Dashboard_templateObject2","theme","Dashboard","match","params","query","board","Dashboard_Container","react_apollo_esm","fetchPolicy","loading","NotFound_templateObject","GET_BOARDS","boards_api_templateObject","CREATE_BOARD","boards_api_templateObject2","setBoards","addBoard","resetBoards","$boards","boards","NewBoardModal_templateObject","NewBoardModal_templateObject2","ChooseColor","NewBoardModal_templateObject3","DataContainer","NewBoardModal_templateObject4","NewBoardModal","NewBoardModal_ModalBody","createBoard","NewBoardModal_Title","aside","ControlPanel_templateObject","ControlPanel_templateObject2","CreateBoard","ControlPanel_templateObject3","iconStyle","marginRight","ControlPanel","ControlPanel_Container","ControlPanel_LocalButton","style","Board_templateObject","Board_templateObject2","Board","react_router_dom","Board_Container","Board_Title","BoardsList_templateObject","BoardsList","BoardsList_Container","Board_Board","Boards_templateObject","Main","Boards_templateObject2","routes","path","exact","auth","component","Welcome_Container","MainBackground_MainBackground","AuthForm_AuthForm","Description_Description","Boards_Container","ControlPanel_ControlPanel","BoardsList_BoardsList","NotFound_Container","PublicRoute","Component","rest","react_router","render","pathname","from","location","PrivateRoute","LOGOUT","common_api_templateObject","header","organisms_Header_templateObject","LogoLink","organisms_Header_templateObject2","organisms_Header_Container","Routes","memo","organisms_Header_Header","route","i","Private_PrivateRoute","Public_PublicRoute","react_toastify","position","POSITION","BOTTOM_RIGHT","GET_ME","App_templateObject","App","console","log","me","styled_components_browser_esm","src_routes","Boolean","hostname","GlobalStyle","createGlobalStyle","GlobalStyle_templateObject","ApolloClient","fetchOptions","credentials","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,qNCE3BC,EAAUC,YAAY,WACtBC,EAAYD,YAAY,aAOxBE,EAAQC,YALA,CACjBC,eAAe,EACfC,KAAM,OAILC,GAAGP,EAAS,SAACQ,EAAOF,GAAR,OAAAG,OAAAC,EAAA,EAAAD,CAAA,GACFD,EADE,CAELF,OACAD,eAAe,MAGtBE,GAAGL,EAAW,SAAAM,GAAK,OAAAC,OAAAC,EAAA,EAAAD,CAAA,GACTD,EADS,CAEZH,eAAe,EACfC,KAAM,uMClBX,IAAMK,EAASC,IAAOC,OAAVC,qdCCZ,IAAMC,EAAiBH,YAAOD,EAAPC,CAAHI,IACd,SAAAC,GAAK,OAAIA,EAAMC,OAAS,SACvB,SAAAD,GAAK,OAAIA,EAAME,QAAU,QACzB,SAAAF,GAAK,OAAIA,EAAMG,QAAU,UAC1B,SAAAH,GAAK,OAAIA,EAAMI,OAAS,WAMb,SAAAJ,GAChB,OAAGA,EAAMK,MACE,UACHL,EAAMM,IACH,eADN,GAOkB,SAAAN,GAC3B,OAAGA,EAAMK,MACE,UACHL,EAAMM,IACH,eADN,GAGM,SAAAN,GAAK,OAAIA,EAAMO,QAAU,oNC1BjC,IAAMC,EAAgBb,YAAOD,EAAPC,CAAHc,0oFCA1B,IAAMC,EAAWf,IAAOgB,IAAVC,IAEA,SAAAZ,GAAK,OAAIA,EAAMI,OAAS,SA6BhCS,EAAQlB,IAAOgB,IAAVG,KA6BLC,EAAOpB,IAAOgB,IAAVK,KAwBJC,EAAOtB,IAAOgB,IAAVO,KAuBJC,EAAQxB,IAAOgB,IAAVS,KA0BEC,EAAO,SAAAC,GAAA,OAhBE,SAACC,EAAMvB,GACzB,OAAQuB,GACJ,IAAK,WACD,OAAOC,EAAAC,EAAAC,cAAChB,EAAaV,GACzB,IAAK,QACD,OAAOwB,EAAAC,EAAAC,cAACb,EAAUb,GACtB,IAAK,OACD,OAAOwB,EAAAC,EAAAC,cAACX,EAASf,GACrB,IAAK,OACD,OAAOwB,EAAAC,EAAAC,cAACT,EAASjB,GACrB,IAAK,QACD,OAAOwB,EAAAC,EAAAC,cAACP,EAAUnB,IAM1B2B,CADgBL,EAAEC,KAAF/B,OAAAoC,EAAA,EAAApC,CAAA8B,EAAA,sxBCrIpB,IAAMO,EAAYlC,IAAOgB,IAAVmB,IACF,SAAA9B,GAAK,OAAIA,EAAMC,OAAS,QACtB,SAAAD,GAAK,OAAIA,EAAME,QAAU,QAQV,SAAAF,GAAK,OAAIA,EAAM+B,mBAAqB,GACjD,SAAA/B,GAAK,OAAIA,EAAMC,OAAS,QACvB,SAAAD,GAAK,OAAIA,EAAME,QAAU,QAEX,SAAAF,GAAK,OAAIA,EAAMI,OAAS,YA4B3C4B,EAAS,SAAAV,GAAA,IAAErB,EAAFqB,EAAErB,MAAOC,EAAToB,EAASpB,OAAQE,EAAjBkB,EAAiBlB,MAAO2B,EAAxBT,EAAwBS,kBAAxB,OAClBP,EAAAC,EAAAC,cAACG,EAAD,CACI5B,MAAOA,EACPC,OAAQA,EACRE,MAAOA,EACP2B,kBAAmBA,GAEnBP,EAAAC,EAAAC,cAAA,gSCjDR,IAAMG,EAAYlC,IAAOgB,IAAVsB,KAaFC,EAAQ,SAAAZ,GAAA,IAAEa,EAAFb,EAAEa,SAAF,OACjBX,EAAAC,EAAAC,cAACU,EAAD,KACKD,ICaIE,EAAU,SAAAf,GAAA,IAAAgB,EAAAhB,EACEC,YADF,IAAAe,EACS,GADTA,EAAAC,EAAAjB,EAEErB,aAFF,IAAAsC,EAEU,MAFVA,EAAAC,EAAAlB,EAGEpB,cAHF,IAAAsC,EAGW,MAHXA,EAAAC,EAAAnB,EAIEoB,YAJF,IAAAD,EAIS,UAJTA,EAAAE,EAAArB,EAKEsB,eALF,IAAAD,EAKY,cALZA,EAMK3C,EANLR,OAAAoC,EAAA,EAAApC,CAAA8B,EAAA,mDAQnBE,EAAAC,EAAAC,cAAA,MAAAlC,OAAAqD,OAAA,CACI5C,MAAOA,EACPC,OAAQA,EACR0C,QAASA,EACTE,UAAU,QACVC,KAAK,MACLL,KAAMA,EACNM,MAAM,6BACNC,cAAY,oBACRjD,GA9CQ,SAAAuB,GAChB,OAAQA,GACJ,IAAK,OACD,OACIC,EAAAC,EAAAC,cAAA,SACIF,EAAAC,EAAAC,cAAA,QAAMwB,EAAE,ofAKR1B,EAAAC,EAAAC,cAAA,QAAMwB,EAAE,8bAMpB,IAAK,QACD,OACI1B,EAAAC,EAAAC,cAAA,SACIF,EAAAC,EAAAC,cAAA,QAAMwB,EAAE,6WACR1B,EAAAC,EAAAC,cAAA,QAAMwB,EAAE,4BACR1B,EAAAC,EAAAC,cAAA,QAAMwB,EAAE,+pBAGpB,QACI,OAAO1B,EAAAC,EAAAC,cAAA,cAuBVyB,CAAY5B,yXC/CrB,IAAMM,EAAYlC,IAAOgB,IAAVyC,KASTC,EAAS1D,IAAO2D,MAAVC,KASCC,EAAcC,IAAMC,WAAW,SAAApC,EAA2BqC,GAA3B,IAAEC,EAAFtC,EAAEsC,aAAiB5D,EAAnBR,OAAAoC,EAAA,EAAApC,CAAA8B,EAAA,yBACxCE,EAAAC,EAAAC,cAACmC,EAAD,KACIrC,EAAAC,EAAAC,cAAC2B,EAAD7D,OAAAqD,OAAA,CAAQe,aAAcA,EAAcE,KAAK,QAAQH,IAAKA,GAAS3D,mWCnBvE,IAAM6B,EAAYlC,IAAOgB,IAAVoD,KAOTC,EAAWrE,YAAOD,EAAPC,CAAHsE,IAKI,SAAAjE,GAAK,OAAIA,EAAMkE,QAAU,qDAG9BC,GAAS,SAAA7C,GAA6B,IAA3B8C,EAA2B9C,EAA3B8C,YAAaC,EAAc/C,EAAd+C,SASjC,OACI7C,EAAAC,EAAAC,cAAC4C,EAAD,KACI9C,EAAAC,EAAAC,cAACsC,EAAD,CACIO,QAXM,WACdH,GAAY,IAWJF,OAAQG,GAFZ,UAMA7C,EAAAC,EAAAC,cAACsC,EAAD,CACIO,QAbM,WACdH,GAAY,IAaJF,QAASG,GAFb,0VClCL,IAAMG,GAAQ7E,IAAO2D,MAAVmB,KAEJ,SAAAzE,GAAK,OAAIA,EAAME,QAAU,0QCDhC,IAAMwE,GAAO/E,IAAOgF,KAAVC,KAOXJ,GAASA,mHCRR,IAAMK,GAAQlF,IAAOmF,KAAVC,yoBCCX,IAAMC,GAAerF,YAAOD,EAAPC,CAAHsF,2dCDlB,IAAMC,GAAUC,IAAHC,MAQPC,GAAUF,IAAHG,cCTPC,GAAkB,SAAAC,GAE3B,OAAOA,EAAMC,WAAWC,UADN,wBAC0BC,SCOnCC,GAAaC,YAAWC,YAAW,SAAAxE,GAAuB,IAArByE,EAAqBzE,EAArByE,OAAQC,EAAa1E,EAAb0E,QAAaC,EAC3CC,mBAAS,MADkCC,EAAA3G,OAAA4G,EAAA,EAAA5G,CAAAyG,EAAA,GAC9DT,EAD8DW,EAAA,GACvDE,EADuDF,EAAA,GAAAG,EAErCJ,mBAAS,MAF4BK,EAAA/G,OAAA4G,EAAA,EAAA5G,CAAA8G,EAAA,GAE9DE,EAF8DD,EAAA,GAEpDE,EAFoDF,EAAA,GAAAG,EAGrCR,mBAAS,MAH4BS,EAAAnH,OAAA4G,EAAA,EAAA5G,CAAAkH,EAAA,GAG9DE,EAH8DD,EAAA,GAGpDE,EAHoDF,EAAA,GAAAG,EAInCZ,oBAAS,GAJ0Ba,EAAAvH,OAAA4G,EAAA,EAAA5G,CAAAsH,EAAA,GAI9DE,EAJ8DD,EAAA,GAInDE,EAJmDF,EAAA,GAM7DG,EAAM,eAAAC,EAAA3H,OAAA4H,GAAA,EAAA5H,CAAA6H,GAAA5F,EAAA6F,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAJ,GAAA5F,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACXL,EAAMM,iBADKH,EAAAC,KAAA,EAGPX,GAAa,GAHNU,EAAAE,KAAA,EAIc9B,EAAOgC,OAAO,CAC/BC,SAAU9C,GACV+C,UAAW,CACPzB,WACAI,cARD,OAIDa,EAJCE,EAAAO,KAYPnJ,EAAQ0I,EAAOU,KAAKjB,QACpBlB,EAAQoC,KAAK,WAbNT,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAU,GAAAV,EAAA,SAePW,KAAM9C,MAAMD,GAAeoC,EAAAU,KAfpB,eAAAV,EAAAC,KAAA,GAiBPX,GAAa,GAjBNU,EAAAY,OAAA,6BAAAZ,EAAAa,SAAAjB,EAAA,wBAAH,gBAAAkB,GAAA,OAAAtB,EAAAuB,MAAAC,KAAAC,YAAA,GA+BZ,OACIpH,EAAAC,EAAAC,cAACgD,GAAD,CAAMmE,SAAU3B,GACZ1F,EAAAC,EAAAC,cAAC8C,GAAD,CACIsE,YAAa,WACbC,SAdW,SAAAvB,GACnBf,EAAYe,EAAMwB,OAAOC,OACzB5C,EAAS,OAaD6C,UAAQ,EACRC,UAAW,KAEf3H,EAAAC,EAAAC,cAAC8C,GAAD,CACIsE,YAAa,WACbC,SAfW,SAAAvB,GACnBX,EAAYW,EAAMwB,OAAOC,OACzB5C,EAAS,OAcDvC,KAAM,WACNoF,UAAQ,EACRC,UAAW,KAGX3D,GAAUhE,EAAAC,EAAAC,cAACmD,GAAD,KAAQW,GAEtBhE,EAAAC,EAAAC,cAACsD,GAAD,CAAclB,KAAM,SAAUsF,SAAUpC,GAAxC,UAIIA,GAAaxF,EAAAC,EAAAC,cAAC2H,EAAD,UC5DhBC,GAAazD,YAAWC,YAAW,SAAAxE,GAAuB,IAArByE,EAAqBzE,EAArByE,OAAQC,EAAa1E,EAAb0E,QAAaC,EAC3CC,mBAAS,MADkCC,EAAA3G,OAAA4G,EAAA,EAAA5G,CAAAyG,EAAA,GAC9DT,EAD8DW,EAAA,GACvDE,EADuDF,EAAA,GAAAG,EAErCJ,mBAAS,MAF4BK,EAAA/G,OAAA4G,EAAA,EAAA5G,CAAA8G,EAAA,GAE9DE,EAF8DD,EAAA,GAEpDE,EAFoDF,EAAA,GAAAG,EAGrCR,mBAAS,MAH4BS,EAAAnH,OAAA4G,EAAA,EAAA5G,CAAAkH,EAAA,GAG9DE,EAH8DD,EAAA,GAGpDE,EAHoDF,EAAA,GAAAG,EAIvBZ,mBAAS,MAJca,EAAAvH,OAAA4G,EAAA,EAAA5G,CAAAsH,EAAA,GAI9DyC,EAJ8DxC,EAAA,GAI7CyC,EAJ6CzC,EAAA,GAM7D0C,EAAM,eAAAtC,EAAA3H,OAAA4H,GAAA,EAAA5H,CAAA6H,GAAA5F,EAAA6F,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAJ,GAAA5F,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACXL,EAAMM,iBADKH,EAAAC,KAAA,EAGHhB,IAAa2C,EAHV,CAAA5B,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAIkB9B,EAAOgC,OAAO,CAC/BC,SAAU3C,GACV4C,UAAW,CACPzB,WACAI,cARL,OAIGa,EAJHE,EAAAO,KAYHnJ,EAAQ0I,EAAOU,KAAKsB,QACpBzD,EAAQoC,KAAK,WAbVT,EAAAE,KAAA,iBAeHxB,EAAS,wBAfN,QAAAsB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAU,GAAAV,EAAA,SAkBPW,KAAM9C,MAAMD,GAAeoC,EAAAU,KAlBpB,yBAAAV,EAAAa,SAAAjB,EAAA,kBAAH,gBAAAkB,GAAA,OAAAtB,EAAAuB,MAAAC,KAAAC,YAAA,GAqCZ,OACIpH,EAAAC,EAAAC,cAACgD,GAAD,CAAMmE,SAAUY,GACZjI,EAAAC,EAAAC,cAAC8C,GAAD,CACIuE,SAlBW,SAAAvB,GACnBf,EAAYe,EAAMwB,OAAOC,OACzB5C,EAAS,OAiBDyC,YAAa,WACbI,UAAQ,EACRC,UAAW,KAEf3H,EAAAC,EAAAC,cAAC8C,GAAD,CACIuE,SAnBW,SAAAvB,GACnBX,EAAYW,EAAMwB,OAAOC,OACzB5C,EAAS,OAkBDyC,YAAa,WACbhF,KAAM,WACNoF,UAAQ,EACRC,UAAW,KAEf3H,EAAAC,EAAAC,cAAC8C,GAAD,CACIuE,SArBkB,SAAAvB,GAC1BgC,EAAmBhC,EAAMwB,OAAOC,OAChC5C,EAAS,OAoBDyC,YAAa,mBACbhF,KAAM,WACNoF,UAAQ,EACRC,UAAW,KAGX3D,GAAShE,EAAAC,EAAAC,cAACmD,GAAD,KAAQW,GAErBhE,EAAAC,EAAAC,cAACsD,GAAD,CAAclB,KAAM,UAApB,i6BC1EZ,IAAMjC,GAAYlC,IAAOgB,IAAV+I,MAkBTC,GAAOhK,IAAOgB,IAAViJ,MAWJC,GAAWlK,YAAOgK,GAAPhK,CAAHmK,MAQDC,GAAiB,kBAC1BvI,EAAAC,EAAAC,cAACsI,GAAD,KACIxI,EAAAC,EAAAC,cAACiI,GAAD,uBAGAnI,EAAAC,EAAAC,cAACmI,GAAD,uDAAyDrI,EAAAC,EAAAC,cAAA,WAAzD,yMCxCR,IAAMG,GAAYlC,IAAOgB,IAAVsJ,MAOFC,GAAW,WAAM,IAAAjE,EACIC,oBAAS,GADbC,EAAA3G,OAAA4G,EAAA,EAAA5G,CAAAyG,EAAA,GACrB5B,EADqB8B,EAAA,GACX/B,EADW+B,EAAA,GAG1B,OACI3E,EAAAC,EAAAC,cAACyI,GAAD,KACI3I,EAAAC,EAAAC,cAAC0I,GAAD,CAAQ/F,SAAUA,EAAUD,YAAaA,IAErCC,EACM7C,EAAAC,EAAAC,cAACkE,GAAD,MACApE,EAAAC,EAAAC,cAAC4H,GAAD,m5DChBtB,IAAMzH,GAAYlC,IAAOgB,IAAV0J,KA2BaC,MAmCtBC,GAAQ5K,IAAO6K,GAAVC,MAKLd,GAAOhK,IAAOgB,IAAV+J,MAIJC,GAAmBhL,YAAOD,EAAPC,CAAHiL,MAkBTC,GAAc,WAQvB,OACIrJ,EAAAC,EAAAC,cAACoJ,GAAD,KACItJ,EAAAC,EAAAC,cAAC6I,GAAD,qBACA/I,EAAAC,EAAAC,cAACqJ,GAAD,+EACIvJ,EAAAC,EAAAC,cAAA,WADJ,2CAGAF,EAAAC,EAAAC,cAACiJ,GAAD,CAAkBpG,QAbN,WAChByG,OAAOC,SAAS,CACZC,IAAK,EACLC,SAAU,aAUV,khCCvGZ,IAAMC,GAAgBzL,IAAOgB,IAAV0K,MAKbxJ,GAAYlC,IAAOgB,IAAV2K,MAQTC,GAAW5L,IAAOgB,IAAV6K,MAiBRC,GAAO9L,IAAOgB,IAAV+K,MAKJC,GAAoBhM,IAAOgB,IAAViL,4WCpCvB,IAAMC,GAAYlM,YAAOD,EAAPC,CAAHmM,MAkBFC,GAAgB,SAAAzK,GAAA,IAAE0K,EAAF1K,EAAE0K,WAAF,OACzBxK,EAAAC,EAAAC,cAACmK,GAAD,CAAWtH,QAASyH,GAChBxK,EAAAC,EAAAC,cAACuK,EAAD,CAAM1K,KAAK,SACXC,EAAAC,EAAAC,cAAA,qYCtBD,IAAMwK,GAAkBvM,YAAOD,EAAPC,CAAHwM,sUCArB,IAAMC,GAAgBzM,YAAOD,EAAPC,CAAH0M,oaCDnB,IAAMC,GAAO3M,IAAOgB,IAAV4L,KAGK,SAAAvM,GAAK,OAAIA,EAAMwM,uRCH9B,IAAMC,GAAW9M,IAAO+M,SAAVC,MCARC,GAAoB,SAACjJ,EAAKkJ,GACnCC,oBACI,WACI,IAAMC,EAAW,SAAAvF,GAER7D,EAAIqJ,UAAWrJ,EAAIqJ,QAAQC,SAASzF,EAAMwB,SAI/C6D,EAAQrF,IAMZ,OAHA0F,SAASC,iBAAiB,YAAaJ,GACvCG,SAASC,iBAAiB,aAAcJ,GAEjC,WACHG,SAASE,oBAAoB,YAAaL,GAC1CG,SAASE,oBAAoB,aAAcL,KASnD,CAACpJ,EAAKkJ,kYC1BP,IAAMQ,GAAe1N,IAAOgB,IAAV2M,ktGCAlB,IAAMC,GAAcpI,IAAHqI,MAYXC,GAAYtI,IAAHuI,MAQTC,GAAgBxI,IAAHyI,MAUbC,GAAgB1I,IAAH2I,MAUbC,GAAgB5I,IAAH6I,MAMbC,GAAgB9I,IAAH+I,MAMbC,GAAchJ,IAAHiJ,MAQXC,GAAclJ,IAAHmJ,MAMXC,GAAgBpJ,IAAHqJ,MAMbC,GAAgBtJ,IAAHuJ,MAMbC,GAAkBxJ,IAAHyJ,MAMfC,GAAkB1J,IAAH2J,MAMfC,GAAe5J,IAAH6J,MAMZC,GAAe9J,IAAH+J,MAMZC,GAAqBhK,IAAHiK,mCCrGlBC,GAAarQ,YAAY,cACzBsQ,GAAiBtQ,YAAY,kBAC7BuQ,GAAYvQ,YAAY,aACxBwQ,GAAUxQ,YAAY,WACtByQ,GAAazQ,YAAY,cACzB0Q,GAAY1Q,YAAY,aACxB2Q,GAAe3Q,YAAY,gBAC3B4Q,GAAiB5Q,YAAY,kBAC7B6Q,GAAe7Q,YAAY,gBAC3B8Q,GAAe9Q,YAAY,gBAC3B+Q,GAAe/Q,YAAY,gBAC3BgR,GAAiBhR,YAAY,kBAM7BiR,GAAa9Q,YAJL,CACjB+Q,QAAS,OAIR5Q,GAAG+P,GAAY,SAAC9P,EAAO2Q,GAAR,OAAA1Q,OAAAC,EAAA,EAAAD,CAAA,GAAyBD,EAAzB,CAAgC2Q,cAC/C5Q,GAAGgQ,GAAgB,SAAC/P,EAAD+B,GAAiC,IAAxB6O,EAAwB7O,EAAxB6O,SAAUC,EAAc9O,EAAd8O,SAC7BC,EAAY9Q,EAAM2Q,QAAQC,GAAUG,MAK1C,OAJA/Q,EAAM2Q,QAAQC,GAAUG,MAAQ/Q,EAAM2Q,QAAQE,GAAUE,MACxD/Q,EAAM2Q,QAAQE,GAAUE,MAAQD,EAEhC9Q,EAAM2Q,QAAUK,KAAUhR,EAAM2Q,QAASC,EAAUC,GAC5C5Q,OAAAC,EAAA,EAAAD,CAAA,GAAID,KAEdD,GAAGiQ,GAAW,SAAChQ,EAAD4H,GAA+B,IAAtBqJ,EAAsBrJ,EAAtBqJ,SAAUC,EAAYtJ,EAAZsJ,OACxBP,EAAU3Q,EAAM2Q,QAAQQ,IAAI,SAACC,EAAQL,GAIvC,OAHIK,EAAOC,KAAOJ,GACdjR,EAAM2Q,QAAQI,GAAOO,QAAQzI,KAAKqI,GAE/BE,IAEX,OAAOnR,OAAAC,EAAA,EAAAD,CAAA,GAAID,EAAX,CAAkB2Q,cAErB5Q,GAAGoQ,GAAW,SAACnQ,EAAOoR,GAKnB,OAJKG,MAAMC,QAAQJ,EAAOE,WACtBF,EAAOE,QAAU,IACrBtR,EAAM2Q,QAAQ9H,KAAKuI,GAEZnR,OAAAC,EAAA,EAAAD,CAAA,GAAID,KAEdD,GAAGsQ,GAAgB,SAACrQ,EAADyR,GAA2C,IAAlCR,EAAkCQ,EAAlCR,SAAUL,EAAwBa,EAAxBb,SAAUC,EAAcY,EAAdZ,SACvCF,EAAU3Q,EAAM2Q,QAAQQ,IAAI,SAAAC,GAC9B,GAAIA,EAAOC,KAAOJ,EAAU,CACxB,IAAMH,EAAYM,EAAOE,QAAQV,GAAUG,MAC3CK,EAAOE,QAAQV,GAAUG,MAAQK,EAAOE,QAAQT,GAAUE,MAC1DK,EAAOE,QAAQT,GAAUE,MAAQD,EAEjCM,EAAOE,QAAUN,KAAUI,EAAOE,QAASV,EAAUC,GAEzD,OAAOO,IAEX,OAAOnR,OAAAC,EAAA,EAAAD,CAAA,GAAID,EAAX,CAAkB2Q,cAErB5Q,GAAGuQ,GAAc,SAACtQ,EAAD0R,GAA6B,IAApBC,EAAoBD,EAApBC,SAAUC,EAAUF,EAAVE,KAC3BjB,EAAU3Q,EAAM2Q,QAAQQ,IAAI,SAAAC,GAO9B,OANAA,EAAOE,QAAUF,EAAOE,QAAQH,IAAI,SAAAD,GAIhC,OAHIA,EAAOG,KAAOM,IACdT,EAAOU,KAAOA,GAEXV,IAEJE,IAEX,OAAOnR,OAAAC,EAAA,EAAAD,CAAA,GAAID,EAAX,CAAkB2Q,cAErB5Q,GAAGqQ,GAAc,SAACpQ,EAAOiR,GACtB,IAAMN,EAAU3Q,EAAM2Q,QAAQkB,OAAO,SAAAT,GAAM,OAAIA,EAAOC,KAAOJ,IAC7D,OAAOhR,OAAAC,EAAA,EAAAD,CAAA,GAAID,EAAX,CAAkB2Q,cAErB5Q,GAAGkQ,GAAS,SAACjQ,EAAD8R,GAA6B,IAApBH,EAAoBG,EAApBH,SAAU5J,EAAU+J,EAAV/J,KACtBgJ,EAAQ/Q,EAAM2Q,QAAQoB,UAAU,SAAAX,GAAM,OAAIA,EAAOE,QAAQU,KAAK,SAAAd,GAAM,OAAIA,EAAOG,KAAOM,MAK5F,OAJA3R,EAAM2Q,QAAQI,GAAOO,QAAQW,QAAQ,SAAAf,GAC7BA,EAAOG,KAAOM,IACdT,EAAOgB,MAAP,GAAAC,OAAAlS,OAAAmS,GAAA,EAAAnS,CAAmBiR,EAAOgB,OAA1B,CAAiCnK,OAElC9H,OAAAC,EAAA,EAAAD,CAAA,GAAID,KAEdD,GAAGmQ,GAAY,SAAClQ,EAAOqS,GACpB,IAAM1B,EAAU3Q,EAAM2Q,QAAQQ,IAAI,SAAAC,GAK9B,OAJAA,EAAOE,QAAUF,EAAOE,QAAQH,IAAI,SAAAD,GAEhC,OADAA,EAAOgB,MAAQhB,EAAOgB,MAAML,OAAO,SAAA9J,GAAI,OAAIA,EAAKsJ,KAAOgB,IAChDnB,IAEJE,IAEX,OAAOnR,OAAAC,EAAA,EAAAD,CAAA,GAAID,EAAX,CAAkB2Q,cAErB5Q,GAAGwQ,GAAc,SAACvQ,EAADsS,GAA8B,IAArBrB,EAAqBqB,EAArBrB,SAAUsB,EAAWD,EAAXC,MAC3BnB,EAASpR,EAAM2Q,QAAQsB,QAAQ,SAAAb,GAGjC,OAFIA,EAAOC,KAAOJ,IACdG,EAAOmB,MAAQA,GACZnB,IAEX,OAAOnR,OAAAC,EAAA,EAAAD,CAAA,GAAID,EAAX,CAAkBoR,aAErBrR,GAAGyQ,GAAc,SAACxQ,EAAO2R,GACtB,IAAMhB,EAAU3Q,EAAM2Q,QAAQQ,IAAI,SAAAC,GAE9B,OADAA,EAAOE,QAAUF,EAAOE,QAAQO,OAAO,SAAAX,GAAM,OAAIA,EAAOG,KAAOM,IACxDP,IAEX,OAAOnR,OAAAC,EAAA,EAAAD,CAAA,GAAID,EAAX,CAAkB2Q,cAErB6B,MAAM/B,0iBC1GJ,IAAMgC,GAAUrS,IAAOgB,IAAVsR,KAUT,SAAAjS,GAAK,OAAIA,EAAMkL,KAAO,QACrB,SAAAlL,GAAK,OAAIA,EAAMkS,MAAQ,SASrB,SAAAlS,GAAK,OAAIA,EAAMkS,MAAQ,SCXxBC,GAAgBrM,YAAW,SAAAxE,GAA0C,IAAxC8Q,EAAwC9Q,EAAxC8Q,aAAc5B,EAA0BlP,EAA1BkP,SAAUzK,EAAgBzE,EAAhByE,OAAQsM,EAAQ/Q,EAAR+Q,GAClEC,EAAaC,iBAAO,MADsDtM,EAE9CC,oBAAS,GAFqCC,EAAA3G,OAAA4G,EAAA,EAAA5G,CAAAyG,EAAA,GAEzEe,EAFyEb,EAAA,GAE9Dc,EAF8Dd,EAAA,GAI9EyG,GAAkB0F,EAAYF,GAkB9B,OACI5Q,EAAAC,EAAAC,cAACsQ,GAAD,CAASrO,IAAK2O,GACV9Q,EAAAC,EAAAC,cAAC2L,GAAD,0BACA7L,EAAAC,EAAAC,cAAClB,EAAD,CAAe+D,QAnBR,WACX0C,GAAa,GACblB,EAAOgC,OAAO,CACVC,SAAU+F,GACV9F,UAAW,CACPuI,cAGHgC,KAAK,WACFvL,GAAa,GACbmL,IACAzC,GAAaa,KAEhBiC,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,OAMZ4D,SAAUpC,GAA1C,cAGQA,GAAaxF,EAAAC,EAAAC,cAAC2H,EAAD,CAAQjJ,MAAM,UAGnCoB,EAAAC,EAAAC,cAAClB,EAAD,CAAe+D,QAAS8N,GAAxB,yVC9BZ,IAAMxQ,GAAYlC,IAAOgB,IAAV+R,MAST/I,GAAOhK,IAAOmF,KAAV6N,MAIGpI,GAAQzE,YAAW,SAAAxE,GAAwC,IAAtCsR,EAAsCtR,EAAtCsR,KAAMzQ,EAAgCb,EAAhCa,SAAU4D,EAAsBzE,EAAtByE,OAAQyK,EAAclP,EAAdkP,SAAcvK,EAC1BC,oBAAS,GADiBC,EAAA3G,OAAA4G,EAAA,EAAA5G,CAAAyG,EAAA,GAC/D4M,EAD+D1M,EAAA,GAC/C2M,EAD+C3M,EAAA,GAAAG,EAE5BJ,oBAAS,GAFmBK,EAAA/G,OAAA4G,EAAA,EAAA5G,CAAA8G,EAAA,GAE/DyM,EAF+DxM,EAAA,GAEhDyM,EAFgDzM,EAAA,GAGhE0M,EAAWV,iBAAO,MAuBhBF,EAAE,eAAAlL,EAAA3H,OAAA4H,GAAA,EAAA5H,CAAA6H,GAAA5F,EAAA6F,KAAG,SAAAC,IAAA,OAAAF,GAAA5F,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACDiL,GAAkB,GADjB,OAEPG,EAASjG,QAAQkG,QACjBd,IAHO,wBAAAzK,EAAAa,SAAAjB,MAAH,yBAAAJ,EAAAuB,MAAAC,KAAAC,YAAA,GAMRgE,GAAkBqG,EA3BI,WAClB,IAAMnB,EAAQmB,EAASjG,QAAQ/D,MAC3B6I,IAAU3P,GAAY2P,EAAMnM,OAAS,GAAKmM,EAAMnM,OAAS,IACzDI,EAAOgC,OAAO,CACVC,SAAUuG,GACVtG,UAAW,CACPuI,WACAsB,WAGHU,KAAK,WACF1C,GAAa,CACTU,WACAsB,YAGPW,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,MAEpDsN,GAAkB,KAWtB,IAIMV,EAAe,WACjBY,GAAiB,IAGrB,OACIxR,EAAAC,EAAAC,cAACyR,GAAD,KAEQN,EACMrR,EAAAC,EAAAC,cAAC8C,GAAD,CAAOtE,OAAO,OAAO0D,aAAczB,EAAUwB,IAAKsP,IAClDzR,EAAAC,EAAAC,cAAC0R,GAAD,KAAOjR,GAEjBX,EAAAC,EAAAC,cAAC0K,GAAD,CAAe7H,QAfP,WACZyO,GAAkBD,KAcoBH,GAE9BG,GACAvR,EAAAC,EAAAC,cAACyQ,GAAD,CACIE,GAAIA,EACJD,aAAcA,EACd5B,SAAUA,oCC/EjB6C,GAAqB,SAACnD,EAASgB,GACxC,IAAMP,EAAST,EAAQqB,KAAK,SAAAZ,GAAM,OAAIA,EAAOE,QAAQU,KAAK,SAAAd,GAAM,OAAIA,EAAOG,KAAOM,MAClF,OAAO1R,OAAO8T,GAAG3C,OAAQ4C,GACnB,GAAK5C,EAAOE,QAAQU,KAAK,SAAAd,GAAM,OAAIA,EAAOG,KAAOM,IAAUO,6XCErE,IAAM+B,GAAY7T,IAAO8T,GAAVC,MAMTC,GAAWhU,IAAOiU,GAAVC,KAKQ,SAAA7T,GAAK,OAAIA,EAAMwM,kBAQxBsH,GAAY,SAAAxS,GAAgB,IAAd4P,EAAc5P,EAAd4P,SAClBhB,EAAW6D,aAAS9D,IAApBC,QACD8D,EAAYX,GAAmBnD,EAASgB,GAE5C,OACI1P,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwS,SAAA,KAEQD,EAAUrO,OAAS,GACnBnE,EAAAC,EAAAC,cAAC8R,GAAD,KAEQQ,EAAUtD,IAAI,SAAAvJ,EAAUmJ,GAAV,IAAElQ,EAAF+G,EAAE/G,MAAF,OACVoB,EAAAC,EAAAC,cAACiS,GAAD,CAAUO,IAAK5D,EAAO9D,gBAAiBpM,o2BC7BnE,IAAMyB,GAAYlC,IAAOiU,GAAVO,MAiBTC,GAAazU,YAAOD,EAAPC,CAAH0U,MAuBHC,GAAO,SAAAhT,GAAc,IAAZmP,EAAYnP,EAAZmP,OAAYxK,EACUC,oBAAS,GADnBC,EAAA3G,OAAA4G,EAAA,EAAA5G,CAAAyG,EAAA,GACzBsO,EADyBpO,EAAA,GACVqO,EADUrO,EAAA,GAAAsO,EAEoBC,OAA3CC,EAFuBF,EAEvBE,WAAYC,EAFWH,EAEXG,YAAaC,EAFFJ,EAEEI,OAAQC,EAFVL,EAEUK,OAMxC,OACItT,EAAAC,EAAAC,cAACqT,GAAD,CACIC,YAAa,kBAAMR,GAAiB,IACpCS,aAAc,kBAAMT,GAAiB,KAErChT,EAAAC,EAAAC,cAACwT,GAAD,CAAWhE,SAAUT,EAAOG,KAC3BH,EAAOU,KAEJoD,GACA/S,EAAAC,EAAAC,cAAC0S,GAAD,CAAY7P,QAbD,WACnBsQ,EAASD,IAAgBD,MAabnT,EAAAC,EAAAC,cAACuK,EAAD,CAAM1K,KAAK,UAIfsT,GACArT,EAAAC,EAAAC,cAACoT,EAAD,KACItT,EAAAC,EAAAC,cAACyT,GAAD,CACIP,YAAaA,EACbnE,OAAQA,4kBCpEhC,IAAM5O,GAAYlC,IAAOgF,KAAVyQ,MAOTvJ,GAAYlM,YAAOD,EAAPC,CAAH0V,MAWT5I,GAAW9M,IAAO+M,SAAV4I,MAMDC,GAAU,SAAAjU,GAAiC,IAA/BkU,EAA+BlU,EAA/BkU,WAAYC,EAAmBnU,EAAnBmU,cAE3B9R,EAAM4O,iBAAO,MACbmD,EAAUnD,iBAAO,MACvB3F,GAAkBjJ,EAAK8R,GAEvB,IAAM5M,EAAQ,eAAA1B,EAAA3H,OAAA4H,GAAA,EAAA5H,CAAA6H,GAAA5F,EAAA6F,KAAG,SAAAC,EAAMC,GAAN,OAAAH,GAAA5F,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACbL,EAAMM,iBADOH,EAAAE,KAAA,EAEP2N,EAAWE,EAAQ1I,QAAQ/D,OAFpB,OAGVyM,EAAQ1I,UACP0I,EAAQ1I,QAAQ/D,MAAQ,IAJf,wBAAAtB,EAAAa,SAAAjB,MAAH,gBAAAkB,GAAA,OAAAtB,EAAAuB,MAAAC,KAAAC,YAAA,GAOd,OACIpH,EAAAC,EAAAC,cAACiU,GAAD,CAAW9M,SAAUA,EAAUlF,IAAKA,GAChCnC,EAAAC,EAAAC,cAACkU,GAAD,CAAUjS,IAAK+R,EAAS5M,YAAY,eACpCtH,EAAAC,EAAAC,cAACmU,GAAD,CAAW/R,KAAK,UAAhB,4LCjCZ,IAAMjC,GAAYlC,IAAOgB,IAAVmV,MAQTC,GAAS,CACX,UACA,UACA,UACA,WAGSC,GAAQlQ,YAAW,SAAAxE,GAAwB,IAAtB4P,EAAsB5P,EAAtB4P,SAAUnL,EAAYzE,EAAZyE,OACnCmK,EAAW6D,aAAS9D,IAApBC,QACDuB,EAAQ4B,GAAmBnD,EAASgB,GAiClC+E,EAAc,SAAA7V,GACAqR,EAAMyE,KAAK,SAAA5O,GAAI,OAAIA,EAAKlH,QAAUA,IAfvC,SAAAA,GACX,IAAMwR,EAASH,EAAMF,KAAK,SAAAjK,GAAI,OAAIA,EAAKlH,QAAUA,IAAOwQ,GACxD7K,EAAOgC,OAAO,CACVC,SAAUqG,GACVpG,UAAW,CACP2J,YAGHY,KAAK,WACF/C,GAAWmC,KAEda,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,MAKtC2Q,CAAO/V,GAjCF,SAAAA,GACf2F,EAAOgC,OAAO,CACVC,SAAUmG,GACVlG,UAAW,CACP7H,QACA8Q,cAGHsB,KAAK,SAAArL,GAAY,IAAVgB,EAAUhB,EAAVgB,KACJqH,GAAQ,CACJ0B,WACA5J,KAAMa,EAAKiO,eAGlB3D,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,MAmBtB4Q,CAAWhW,IAGzC,OACIoB,EAAAC,EAAAC,cAAC2U,GAAD,KAEQN,GAAOrF,IAAI,SAACtQ,EAAOkQ,GAAR,OACP9O,EAAAC,EAAAC,cAAC4K,GAAD,CAAM4H,IAAK5D,EAAO/L,QAAS,kBAAM0R,EAAY7V,IAAQoM,gBAAiBpM,GACjEqR,EAAMyE,KAAK,SAAA5O,GAAI,OAAIA,EAAKlH,QAAUA,KAAUoB,EAAAC,EAAAC,cAACuK,EAAD,CAAM1K,KAAK,wHC9DhF,IAAM+U,GAAY3W,IAAO8T,GAAV8C,MAIFC,GAAQ1Q,YAAW,SAAAxE,GAAiC,IAA/ByE,EAA+BzE,EAA/ByE,OAAQyK,EAAuBlP,EAAvBkP,SAAUK,EAAavP,EAAbuP,QAC5C4F,EAAelE,iBAAO,MAE1BzF,oBAAU,WACN2J,EAAazJ,QAAQ0J,UAAYD,EAAazJ,QAAQ2J,cACvD,CAAC9F,EAAQlL,SAEZ,IAAMiR,EAAS,eAAA5F,EAAAxR,OAAA4H,GAAA,EAAA5H,CAAA6H,GAAA5F,EAAA6F,KAAG,SAAAC,EAAAJ,GAAA,IAAAgJ,EAAAC,EAAA,OAAA/I,GAAA5F,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAQsI,EAARhJ,EAAQgJ,UAAUC,EAAlBjJ,EAAkBiJ,YAChBD,IACZP,GAAe,CAACY,WAAUL,WAAUC,aACpCrK,EAAOgC,OAAO,CACVC,SAAU6G,GACV5G,UAAW,CACPuI,WACAL,SAAUU,EAAQV,GAAUG,MAC5BF,SAAUS,EAAQT,GAAUE,SAEjCmC,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,OAVpC,wBAAAmC,EAAAa,SAAAjB,MAAH,gBAAAkB,GAAA,OAAAuI,EAAAtI,MAAAC,KAAAC,YAAA,GAcf,OACIpH,EAAAC,EAAAC,cAACmV,GAAD,CACIC,MAAOjG,EACP+F,UAAWA,EACXH,aAAcA,MAKpBM,GAAeC,2BAAgB,SAAA/F,GAAA,IAAEgG,EAAFhG,EAAEgG,KAAF,OAAYzV,EAAAC,EAAAC,cAACwV,GAAD,CAAMzG,OAAQwG,MAGzDJ,GAAeM,6BAAkB,SAAA9F,GAAA,IAAEyF,EAAFzF,EAAEyF,MAAOL,EAATpF,EAASoF,aAAT,OACnCjV,EAAAC,EAAAC,cAAC4U,GAAD,CAAW3S,IAAK8S,GAER3F,MAAMC,QAAQ+F,IAAUA,EAAMpG,IAAI,SAACuG,EAAM3G,GAAP,OAC9B9O,EAAAC,EAAAC,cAACqV,GAAD,CAAc7C,IAAG,UAAAxC,OAAYpB,GAASA,MAAOA,EAAO2G,KAAMA,kVCvC1E,IAAMpV,GAAYlC,IAAOgB,IAAVyW,MAaFC,GAASvR,YAAW,SAAAxE,GAAoB,IAAlByE,EAAkBzE,EAAlByE,OAAQkR,EAAU3V,EAAV2V,KAAUhR,EACrBC,oBAAS,GADYC,EAAA3G,OAAA4G,EAAA,EAAA5G,CAAAyG,EAAA,GAC5CqR,EAD4CnR,EAAA,GACnCoR,EADmCpR,EAAA,GA8BjD,OACI3E,EAAAC,EAAAC,cAAC8V,GAAD,KACIhW,EAAAC,EAAAC,cAAC+V,GAAD,CAAO7E,KAAMpR,EAAAC,EAAAC,cAACuK,EAAD,CAAM1K,KAAK,aAAciP,SAAUyG,EAAKrG,IAChDqG,EAAKnF,OAEVtQ,EAAAC,EAAAC,cAAC8U,GAAD,CAAOhG,SAAUyG,EAAKrG,GAAIC,QAASoG,EAAKpG,UAEpCyG,EACM9V,EAAAC,EAAAC,cAACgW,GAAD,CAASlC,WA/BR,SAAArE,GACXA,EAAKxL,OAAS,GAAKwL,EAAKxL,OAAS,KACjCI,EAAOgC,OAAO,CACVC,SAAU2F,GACV1F,UAAW,CACPuI,SAAUyG,EAAKrG,GACfO,UAGHqB,KAAK,SAAArL,GAAY,IAAVgB,EAAUhB,EAAVgB,KACJoH,GAAU,CACNiB,SAAUyG,EAAKrG,GACfH,OAAQtI,EAAKwP,iBAGpBlF,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,OAgBLiQ,cAZ7B,WAClB8B,GAAW,MAYG/V,EAAAC,EAAAC,cAACkW,GAAD,CAAe5L,WApCd,WACfuL,GAAW,q5BChBnB,IAAMM,GAAYlY,IAAOgF,KAAVmT,MAaTvN,GAAQ5K,IAAOgB,IAAVoX,MAOLC,GAAUrY,IAAOmF,KAAVmT,MAMPC,GAAevY,IAAOgB,IAAVwX,KAIP,SAAAnY,GAAK,OAAIA,EAAMC,OAAS,SAG7BmY,GAAOzY,IAAO0Y,KAAVC,MAKGnD,GAAYrP,YAAW,SAAAxE,GAAmC,IAAjCsT,EAAiCtT,EAAjCsT,YAAa7O,EAAoBzE,EAApByE,OAAQ0K,EAAYnP,EAAZmP,OAE/CS,EAGJT,EAHAG,GACM2H,EAEN9H,EAFAU,KACAqH,EACA/H,EADA+H,UAGAC,EAAelG,iBAAO,MACtBmG,EAAcnG,iBAAO,MAR0CtM,EAS/BC,oBAAS,GATsBC,EAAA3G,OAAA4G,EAAA,EAAA5G,CAAAyG,EAAA,GAS9D0S,EAT8DxS,EAAA,GASjDyS,EATiDzS,EAAA,GAUnEyG,GAAkB6L,EAAc7D,GAEhC,IAAMiE,EAAM,eAAA1R,EAAA3H,OAAA4H,GAAA,EAAA5H,CAAA6H,GAAA5F,EAAA6F,KAAG,SAAAC,EAAMC,GAAN,IAAA2J,EAAA,OAAA9J,GAAA5F,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACXL,EAAMM,kBAEAqJ,EAAOuH,EAAY1L,QAAQ/D,SACpBsP,GAAepH,EAAKxL,OAAS,GAAKwL,EAAKxL,OAAS,KACzDI,EAAOgC,OAAO,CACVC,SAAUiG,GACVhG,UAAW,CACPkJ,OACAD,cAGHsB,KAAK,WACF3C,GAAa,CAACsB,OAAMD,eAEvBuB,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,MAEpDoP,IAjBW,wBAAAjN,EAAAa,SAAAjB,MAAH,gBAAAkB,GAAA,OAAAtB,EAAAuB,MAAAC,KAAAC,YAAA,GAsCZ,OACIpH,EAAAC,EAAAC,cAACoX,EAAD,KACItX,EAAAC,EAAAC,cAACmW,GAAD,CAAWlU,IAAK8U,EAAc5P,SAAUgQ,GACpCrX,EAAAC,EAAAC,cAACqX,GAAD,oBACAvX,EAAAC,EAAAC,cAACwT,GAAD,CAAWhE,SAAUA,IACrB1P,EAAAC,EAAAC,cAAC+K,GAAD,CAAU9I,IAAK+U,EAAa9U,aAAc2U,IAC1C/W,EAAAC,EAAAC,cAACwW,GAAD,KACI1W,EAAAC,EAAAC,cAACsW,GAAD,CAASzT,QAzBF,WACLqU,GAAdD,KAwBY,SACAnX,EAAAC,EAAAC,cAAC0W,GAAD,CAAMY,SAAUR,GC7GT,SAAAS,GACvB,IAAMC,EAAO,IAAIC,KAAKC,SAASH,IAE/B,eAAAvH,OACEwH,EAAKG,WAAW5T,WAAW6T,SAAS,EAAG,KADzC,KAAA5H,OACiDwH,EAAKK,aAAa9T,WAAW6T,SAAS,EAAG,KAD1F,YAAA5H,OAEEwH,EAAKM,UAFP,KAAA9H,OAEoBwH,EAAKO,WAFzB,KAAA/H,OAEuCwH,EAAKQ,cAF5C,UD0G4CC,CAAYnB,KAGxCG,GAAenX,EAAAC,EAAAC,cAACsU,GAAD,CAAO9E,SAAUA,IAEpC1P,EAAAC,EAAAC,cAACwW,GAAD,CAAcjY,MAAO,SACjBuB,EAAAC,EAAAC,cAAC5B,EAAD,CAAgBO,OAAK,GAArB,QACAmB,EAAAC,EAAAC,cAAC5B,EAAD,CAAgBQ,KAAG,EAACiE,QA7BrB,WACXwB,EAAOgC,OAAO,CACVC,SAAUyG,GACVxG,UAAW,CACPiJ,cAGHsB,KAAK,WACFzC,GAAamB,GACb0D,MAEHnC,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,QAkBpC,yoBE/GpB,IAAM3D,GAAYlC,IAAOgB,IAAViZ,MAYTC,GAAala,IAAO2D,MAAVwW,MAEVjO,GAAYlM,YAAOD,EAAPC,CAAHoa,MAYFC,GAAY,SAAA1Y,GAAoC,IAAlC2Y,EAAkC3Y,EAAlC2Y,eAAgBC,EAAkB5Y,EAAlB4Y,aACjCzD,EAAelE,iBAAO,MACtB4H,EAAW5H,iBAAO,MAExB3F,GAAkB6J,EAAcwD,GAEhC,IAAMG,EAAU,eAAAjT,EAAA3H,OAAA4H,GAAA,EAAA5H,CAAA6H,GAAA5F,EAAA6F,KAAG,SAAAC,IAAA,OAAAF,GAAA5F,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACTqS,EAAaC,EAASnN,QAAQ/D,OADrB,OAEZkR,EAASnN,UACRmN,EAASnN,QAAQ/D,MAAQ,IAHd,wBAAAtB,EAAAa,SAAAjB,MAAH,yBAAAJ,EAAAuB,MAAAC,KAAAC,YAAA,GAMhB,OACIpH,EAAAC,EAAAC,cAAC2Y,GAAD,CAAW1W,IAAK8S,GACZjV,EAAAC,EAAAC,cAACmY,GAAD,CAAYlW,IAAKwW,IACjB3Y,EAAAC,EAAAC,cAAC4Y,GAAD,CAAW/V,QAAS6V,GAApB,cC5CCG,GAAkBvb,YAAY,mBAC9Bwb,GAAuBxb,YAAY,wBACnCyb,GAAczb,YAAY,eAC1B0b,GAAa1b,YAAY,cAQzB2b,GAASxb,YAND,CACjByR,GAAI,KACJkB,MAAO,KACP1R,MAAO,OAINd,GAAGib,GAAiB,SAAChb,EAAD+B,GAA+B,IAAtBsP,EAAsBtP,EAAtBsP,GAAIkB,EAAkBxQ,EAAlBwQ,MAAO1R,EAAWkB,EAAXlB,MAIrC,OAHAb,EAAMqR,GAAKA,EACXrR,EAAMuS,MAAQA,EACdvS,EAAMa,MAAQA,EACPZ,OAAAC,EAAA,EAAAD,CAAA,GAAID,KAEdD,GAAGkb,GAAsB,SAACjb,EAAOa,GAE9B,OADAb,EAAMa,MAAQA,EACPZ,OAAAC,EAAA,EAAAD,CAAA,GAAID,KAEdD,GAAGmb,GAAa,SAAClb,EAAOuS,GAErB,OADAvS,EAAMuS,MAAQA,EACPtS,OAAAC,EAAA,EAAAD,CAAA,GAAID,KAEdwS,MAAM2I,oSCdX,IAAME,GAAuBjb,IAAOkb,MAAVC,MASpBC,GAAcpb,IAAOmF,KAAVkW,MAIJC,GAAepV,YAAWC,YAAW,SAAAxE,GAAqC,IAAnC8Q,EAAmC9Q,EAAnC8Q,aAAcpM,EAAqB1E,EAArB0E,QAASD,EAAYzE,EAAZyE,OAAYmV,EACjEnH,aAAS4G,IAAtB/J,EAD8EsK,EAC9EtK,GAAIxQ,EAD0E8a,EAC1E9a,MACLkS,EAAaC,iBAAO,MACpB4I,EAAW5I,iBAAO,MAH6DtM,EAInDC,oBAAS,GAJ0CC,EAAA3G,OAAA4G,EAAA,EAAA5G,CAAAyG,EAAA,GAI9Ee,EAJ8Eb,EAAA,GAInEc,EAJmEd,EAAA,GAkBnFyG,GAAkB0F,EAAYF,GAkB9B,OACI5Q,EAAAC,EAAAC,cAACsQ,GAAD,CAASrO,IAAK2O,EAAYJ,KAAK,qBAAqBhH,IAAI,QACpD1J,EAAAC,EAAAC,cAAC2L,GAAD,2BACA7L,EAAAC,EAAAC,cAACkZ,GAAD,CAAsBQ,QAAQ,cAAc7W,QAPzB,WACvB4W,EAASnO,QAAQqO,UAOT7Z,EAAAC,EAAAC,cAACqZ,GAAD,qBACAvZ,EAAAC,EAAAC,cAAC8B,EAAD,CAAauF,SAnCH,SAAAvB,GAClB,IAAM8T,EAAW9T,EAAMwB,OAAOC,MAC9BuR,GAAqBc,GACrBvV,EAAOgC,OAAO,CACVC,SAAUmH,GACVlH,UAAW,CACPsT,QAAS3K,EACTxQ,MAAOkb,KAEZ7I,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,OA0BA7B,IAAKwX,EAAUvX,aAAcxD,KAEvEoB,EAAAC,EAAAC,cAAClB,EAAD,CAAe+D,QAvBH,WAChB0C,GAAa,GACblB,EAAOgC,OAAO,CACVC,SAAU+G,GACV9G,UAAW,CACPsT,QAAS3K,KAGZ4B,KAAK,kBAAMxM,EAAQoC,KAAK,aACxBqK,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,OAcP4D,SAAUpC,GAA/C,eAGQA,GAAaxF,EAAAC,EAAAC,cAAC2H,EAAD,CAAQjJ,MAAM,ivBC3D/C,IAAMyB,GAAYlC,IAAOgB,IAAV6a,MAQTC,GAAc9b,YAAOD,EAAPC,CAAH+b,KAOE,SAAA1b,GAAK,OAAIA,EAAM2b,aAO5BC,GAAajc,YAAOkc,IAAPlc,CAAHmc,MAWHC,GAAcjW,YAAW,SAAAxE,GAAc,IAAZyE,EAAYzE,EAAZyE,OAAYmV,EAC9BnH,aAAS4G,IAAtB/J,EAD2CsK,EAC3CtK,GAAIkB,EADuCoJ,EACvCpJ,MADuC7L,EAERC,oBAAS,GAFDC,EAAA3G,OAAA4G,EAAA,EAAA5G,CAAAyG,EAAA,GAE3C8M,EAF2C5M,EAAA,GAE5B6M,EAF4B7M,EAAA,GAAAG,EAGRJ,oBAAS,GAHDK,EAAA/G,OAAA4G,EAAA,EAAA5G,CAAA8G,EAAA,GAG3C0V,EAH2CzV,EAAA,GAG5B0V,EAH4B1V,EAAA,GAI5C0M,EAAWV,iBAAO,MAiCtB,OAFA3F,GAAkBqG,EAjBH,WACX,IAAMiJ,EAAWjJ,EAASjG,QAAQ/D,MAE9BiT,IAAapK,GACb/L,EAAOgC,OAAO,CACVC,SAAUiH,GACVhH,UAAW,CACPsT,QAAS3K,EACTkB,MAAOoK,KAGV1J,KAAK,kBAAMiI,GAAYyB,KACvBzJ,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,MAEpDyW,GAAiB,KAMjBza,EAAAC,EAAAC,cAACya,GAAD,KACI3a,EAAAC,EAAAC,cAACka,GAAD,CAAYQ,GAAG,UAAUC,aAAW,qBAChC7a,EAAAC,EAAAC,cAAC4a,EAAD,CAAS/a,KAAK,OAAOqB,QAAQ,sBAAsBF,KAAK,OAAOzC,MAAO,QAASC,OAAQ,WAGvF8b,EACMxa,EAAAC,EAAAC,cAAC8C,GAAD,CAAO+X,WAAS,EAAC5Y,IAAKsP,EAAUrP,aAAckO,EAAO5R,OAAQ,SAC7DsB,EAAAC,EAAAC,cAAC+Z,GAAD,CAAalX,QA/Bb,WACd0X,GAAiB,IA8B8BI,aAAW,oBAAoBvK,GAE1EtQ,EAAAC,EAAAC,cAAC+Z,GAAD,CAAaE,WAAW,OAAOpX,QAzCnB,WAChByO,GAAiB,IAwCwCqJ,aAAW,sBAC5D7a,EAAAC,EAAAC,cAACuK,EAAD,CAAM7L,MAAM,OAAOmB,KAAM,cAGzBwR,GAAiBvR,EAAAC,EAAAC,cAACuZ,GAAD,CAAc7I,aAzCtB,WACjBY,GAAiB,SCjDZwJ,GAAqB1W,YAAW,SAAAxE,GAA0B,IAAxBmb,EAAwBnb,EAAxBmb,WAAY1W,EAAYzE,EAAZyE,OAAYE,EAC/BC,oBAAS,GADsBC,EAAA3G,OAAA4G,EAAA,EAAA5G,CAAAyG,EAAA,GAC9DyW,EAD8DvW,EAAA,GACjDwW,EADiDxW,EAAA,GA2BnE,OACI3E,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwS,SAAA,KAEQyI,EACMlb,EAAAC,EAAAC,cAACkb,GAAD,CAAW1C,aApBR,SAAApI,GACbA,EAAMnM,OAAS,GAAKmM,EAAMnM,OAAS,IACnCI,EAAOgC,OAAO,CACVC,SAAU6F,GACV5F,UAAW,CACP6J,QACA2K,gBAGHjK,KAAK,SAAArL,GAAY,IAAVgB,EAAUhB,EAAVgB,KACJuH,GAAUvH,EAAK+R,gBAElBzH,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,OAQCyU,eAxBlC,WACnB0C,GAAe,MAwBDnb,EAAAC,EAAAC,cAACwK,GAAD,CAAiB3H,QA7Bd,WACjBoY,GAAe,KA4BD,kHC9BtB,IAAME,GAAcld,IAAO8T,GAAVqJ,MAIJC,GAAUjX,YAAW,SAAAxE,GAAc,IAAZyE,EAAYzE,EAAZyE,OACzBmK,EAAW6D,aAAS9D,IAApBC,QAgBP,OACI1O,EAAAC,EAAAC,cAACsb,GAAD,CAAcC,KAAK,IAAInG,MAAO5G,EAAS0G,UAfzB,SAAAzP,GAA0B,IAAxBgJ,EAAwBhJ,EAAxBgJ,SAAUC,EAAcjJ,EAAdiJ,SACtBA,IAAaD,IACbb,GAAe,CAACa,WAAUC,aAC1BrK,EAAOgC,OAAO,CACVC,SAAU2G,GACV1G,UAAW,CACPkI,SAAUD,EAAQC,GAAUG,MAC5BF,SAAUF,EAAQE,GAAUE,SAG/BmC,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,YAStDuR,GAAeC,2BAAgB,SAAAhG,GAAA,IAAEiG,EAAFjG,EAAEiG,KAAF,OAAYzV,EAAAC,EAAAC,cAAC2V,GAAD,CAAQJ,KAAMA,MAGzDJ,GAAeM,6BAAkB,SAAAlG,GAAA,IAAE6F,EAAF7F,EAAE6F,MAAF,OACnCtV,EAAAC,EAAAC,cAACmb,GAAD,KAEQ/F,EAAMpG,IAAI,SAACuG,EAAM3G,GAAP,OACN9O,EAAAC,EAAAC,cAACwb,GAAD,CAAchJ,IAAG,UAAAxC,OAAYpB,GAASA,MAAOA,EAAO2G,KAAMA,waChC1E,IAAMkG,GAAcxd,IAAOgB,IAAVyc,MASXvb,GAAYlC,IAAOgB,IAAV0c,KAMO,SAAArd,GAAK,OAAIA,EAAMsd,MAAM9Q,iBAAmB,YAGjD+Q,GAAYzX,YAAW,SAAAxE,GAAoD,IAA1Bmb,EAA0Bnb,EAAlDkc,MAAQC,OAAS3L,MAAqB/L,EAAYzE,EAAZyE,OAYxE,OAXA+G,oBAAU,WACN/G,EAAO2X,MAAM,CACTA,MAAOjQ,GACPxF,UAAW,CACP6J,MAAO2K,KAEZjK,KAAK,SAAArL,GAAY,IAAVgB,EAAUhB,EAAVgB,KACNoS,GAAgBpS,EAAKwV,SACtBlL,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,OAC/C,CAACO,EAAQ0W,IAGRjb,EAAAC,EAAAC,cAACkc,GAAD,KACIpc,EAAAC,EAAAC,cAACmc,EAAA,EAAD,CAAOH,MAAOnQ,GAAatF,UAAW,CAAC6J,MAAO2K,GAAaqB,YAAY,YAClE,SAAA9M,GAA4B,IAA1B7I,EAA0B6I,EAA1B7I,KAAM4V,EAAoB/M,EAApB+M,QAASvY,EAAWwL,EAAXxL,MACd,OAAIuY,EACOvc,EAAAC,EAAAC,cAAC2H,EAAD,CAAQpJ,MAAM,OAAOC,OAAO,OAAOE,MAAM,OAAO2B,kBAAkB,QACzEyD,EACOhE,EAAAC,EAAAC,cAAA,qBAEX2N,GAAWlH,EAAK+H,SAEZ1O,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwS,SAAA,KACIzS,EAAAC,EAAAC,cAACqa,GAAD,MACAva,EAAAC,EAAAC,cAACyb,GAAD,KACI3b,EAAAC,EAAAC,cAACqb,GAAD,MACAvb,EAAAC,EAAAC,cAAC8a,GAAD,CAAoBC,WAAYA,4LCtDhE,IAAM5a,GAAYlC,IAAOgB,IAAVqd,kZCDR,IAAMC,GAAc9Y,IAAJ+Y,MAQVC,GAAehZ,IAAHiZ,MCRZC,GAAYrf,YAAY,aACxBsf,GAAWtf,YAAY,YACvBuf,GAAcvf,YAAY,eAM1Bwf,GAAUrf,YAJF,CACjBsf,OAAQ,OAIPnf,GAAG+e,GAAW,SAAC9e,EAAOkf,GAEf,OADAlf,EAAMkf,OAASA,EACRjf,OAAAC,EAAA,EAAAD,CAAA,GAAID,KAGlBD,GAAGgf,GAAU,SAAC/e,EAAOoe,GAElB,OADApe,EAAMkf,OAAOrW,KAAKuV,GACXne,OAAAC,EAAA,EAAAD,CAAA,GAAID,KAEdD,GAAGif,GAAa,SAAAhf,GAAK,OAAAC,OAAAC,EAAA,EAAAD,CAAA,GACXD,EADW,CAEdkf,OAAQ,k0BCXpB,IAAM5G,GAAYlY,IAAOgF,KAAV+Z,MAaTnU,GAAQ5K,IAAOgB,IAAVge,MAMLC,GAAcjf,IAAOmF,KAAV+Z,MAIXC,GAAgBnf,IAAOgB,IAAVoe,MAUNC,GAAgBlZ,YAAW,SAAAxE,GAA2B,IAAzBsT,EAAyBtT,EAAzBsT,YAAa7O,EAAYzE,EAAZyE,OAC7C0S,EAAelG,iBAAO,MACtBU,EAAWV,iBAAO,MAClB4I,EAAW5I,iBAAO,MACxB3F,GAAkB6L,EAAc7D,GA0BhC,OACIpT,EAAAC,EAAAC,cAACoX,EAAD,KACItX,EAAAC,EAAAC,cAACud,GAAD,CAAWtb,IAAK8U,EAAc5P,SA1BlB,SAAArB,GAChBA,EAAMM,iBACN,IAAMgK,EAAQmB,EAASjG,QAAQ/D,MACzB7I,EAAQ+a,EAASnO,QAAQ/D,MAE3B6I,EAAMnM,OAAS,GAAKmM,EAAMnM,OAAS,IAAuB,IAAjBvF,EAAMuF,QAC/CI,EAAOgC,OAAO,CACVC,SAAUmW,GACVlW,UAAW,CACP6J,QACA1R,WAELoS,KAAK,SAAArL,GAAY,IAAVgB,EAAUhB,EAAVgB,KACNmW,GAASnW,EAAK+W,eACfzM,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,MAGlDoP,MAUQpT,EAAAC,EAAAC,cAACyd,GAAD,qBACA3d,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC8C,GAAD,CAAOb,IAAKsP,EAAUnK,YAAY,gBAClCtH,EAAAC,EAAAC,cAACod,GAAD,CAAeva,QAVJ,WACvB4W,EAASnO,QAAQqO,UAUD7Z,EAAAC,EAAAC,cAACkd,GAAD,qBACApd,EAAAC,EAAAC,cAAC8B,EAAD,CAAaG,IAAKwX,EAAUrX,KAAK,QAAQF,aAAa,cAG9DpC,EAAAC,EAAAC,cAAC5B,EAAD,CAAgBgE,KAAK,SAASzD,OAAK,EAACF,OAAQ,aAA5C,s+BC/EhB,IAAM0B,GAAYlC,IAAOyf,MAAVC,MAQT5D,GAAc9b,YAAOD,EAAPC,CAAH2f,MAmBXC,GAAc5f,YAAOD,EAAPC,CAAH6f,MAkBXC,GAAY,CAACC,YAAa,QAEnBC,GAAe,WAAM,IAAAlL,EACoBC,OAA3CC,EADuBF,EACvBE,WAAYC,EADWH,EACXG,YAAaC,EADFJ,EACEI,OAAQC,EADVL,EACUK,OAMxC,OACItT,EAAAC,EAAAC,cAACke,GAAD,KACIpe,EAAAC,EAAAC,cAACme,GAAD,KACIre,EAAAC,EAAAC,cAAC4a,EAAD,CAAS/a,KAAK,QAAQqB,QAAQ,sBAAsBkd,MAAOL,KAD/D,UAIAje,EAAAC,EAAAC,cAAC6d,GAAD,CAAahb,QAVE,WACnBsQ,EAASD,IAAgBD,MAUjBnT,EAAAC,EAAAC,cAACuK,EAAD,CAAM1K,KAAK,SADf,gBAKIsT,GACIrT,EAAAC,EAAAC,cAACoT,EAAD,KACItT,EAAAC,EAAAC,cAACsd,GAAD,CAAepK,YAAaA,w/BCrEpD,IAAM/S,GAAYlC,IAAOgB,IAAVof,KAKW,SAAA/f,GAAK,OAAIA,EAAMwM,iBAAmB,YAuBtDjC,GAAQ5K,IAAOmF,KAAVkb,MAYEC,GAAQ,SAAA3e,GAAA,IAAEwQ,EAAFxQ,EAAEwQ,MAAO1R,EAATkB,EAASlB,MAAT,OACjBoB,EAAAC,EAAAC,cAACwe,EAAA,EAAD,CAAM9D,GAAE,WAAA1K,OAAaI,IACjBtQ,EAAAC,EAAAC,cAACye,GAAD,CAAW3T,gBAAiBpM,GACxBoB,EAAAC,EAAAC,cAAC0e,GAAD,KAAQtO,0RCzCpB,IAAMjQ,GAAYlC,IAAOgB,IAAV0f,MAaFC,GAAa,WAAM,IACvB7B,EAAU1K,aAASyK,IAAnBC,OAEL,OACIjd,EAAAC,EAAAC,cAAC6e,GAAD,KAEQ9B,GAAUA,EAAO/N,IAAI,SAAApP,GAAA,IAAEsP,EAAFtP,EAAEsP,GAAIkB,EAANxQ,EAAMwQ,MAAO1R,EAAbkB,EAAalB,MAAb,OAAwBoB,EAAAC,EAAAC,cAAC8e,GAAD,CAAO5P,GAAIA,EAAIxQ,MAAOA,EAAO0R,MAAOA,EAAOoC,IAAKtD,udCjB7G,IAAM/O,GAAYlC,IAAOgB,IAAV8f,MAOTC,GAAO/gB,IAAOgB,IAAVggB,MCVGC,GAAS,CAClB,CACIC,KAAM,IACNC,OAAO,EACPC,MAAM,EACNC,UrCyCe,WACnB,OACIxf,EAAAC,EAAAC,cAAC0J,GAAD,KACI5J,EAAAC,EAAAC,cAACuf,GAAD,KACIzf,EAAAC,EAAAC,cAACwf,GAAD,MACA1f,EAAAC,EAAAC,cAAC6J,GAAD,KACI/J,EAAAC,EAAAC,cAACiK,GAAD,KACInK,EAAAC,EAAAC,cAAC+J,GAAD,oBACAjK,EAAAC,EAAAC,cAACyf,GAAD,SAIZ3f,EAAAC,EAAAC,cAAC0f,GAAD,SqCnDR,CACIP,KAAM,UACNC,OAAO,EACPC,MAAM,EACNC,UDYc,kBAClBxf,EAAAC,EAAAC,cAACmc,EAAA,EAAD,CAAOH,MAAOO,GAAYH,YAAY,YACjC,SAAAxc,GAA4B,IAA1B6G,EAA0B7G,EAA1B6G,KAAM4V,EAAoBzc,EAApByc,QAASvY,EAAWlE,EAAXkE,MACd,OAAIuY,EACOvc,EAAAC,EAAAC,cAAC2H,EAAD,CAAQpJ,MAAM,OAAOC,OAAO,OAAOE,MAAM,OAAO2B,kBAAkB,QACzEyD,EACOhE,EAAAC,EAAAC,cAAA,qBAEX2c,GAAUlW,EAAKsW,QAEXjd,EAAAC,EAAAC,cAAC2f,GAAD,KACI7f,EAAAC,EAAAC,cAACgf,GAAD,KACIlf,EAAAC,EAAAC,cAAC4f,GAAD,MACA9f,EAAAC,EAAAC,cAAC6f,GAAD,aCvBpB,CACIV,KAAM,iBACNC,OAAO,EACPC,MAAM,EACNC,UAAWzD,IAEf,CACIsD,KAAM,IACNC,OAAO,EACPC,MAAM,EACNC,URhBgB,kBACpBxf,EAAAC,EAAAC,cAAC8f,GAAD,0BSRSC,GAAc,SAAAngB,GAAqC,IAAxBogB,EAAwBpgB,EAAnC0f,UAAyBW,EAAUniB,OAAAoC,EAAA,EAAApC,CAAA8B,EAAA,eACvDlC,EAAiB2U,aAAS7U,GAA1BE,cAEL,OACIoC,EAAAC,EAAAC,cAACkgB,EAAA,EAADpiB,OAAAqD,OAAA,GAAW8e,EAAX,CAAiBE,OAAQ,SAAA7hB,GAAK,OACzBZ,EAEKoC,EAAAC,EAAAC,cAACkgB,EAAA,EAAD,CAAUxF,GAAI,CACZ0F,SAAU,UACVviB,MAAO,CAACwiB,KAAM/hB,EAAMgiB,aAHtBxgB,EAAAC,EAAAC,cAACggB,EAAc1hB,QCNpBiiB,GAAe,SAAA3gB,GAAqC,IAAxBogB,EAAwBpgB,EAAnC0f,UAAyBW,EAAUniB,OAAAoC,EAAA,EAAApC,CAAA8B,EAAA,eACxDlC,EAAiB2U,aAAS7U,GAA1BE,cAEL,OACIoC,EAAAC,EAAAC,cAACkgB,EAAA,EAADpiB,OAAAqD,OAAA,GAAW8e,EAAX,CAAiBE,OAAQ,SAAA7hB,GAAK,OAC1BZ,EACMoC,EAAAC,EAAAC,cAACggB,EAAc1hB,GACfwB,EAAAC,EAAAC,cAACkgB,EAAA,EAAD,CAAUxF,GAAI,CACZ0F,SAAU,IACVviB,MAAO,CAACwiB,KAAM/hB,EAAMgiB,yICZjC,IAAME,GAAS/c,IAAHgd,kuBCWnB,IAAMtgB,GAAYlC,IAAOyiB,OAAVC,KAKS,SAAAriB,GAAK,MAAiC,YAA7BgL,OAAOgX,SAASF,SAAyB,UAAY9hB,EAAMsd,MAAM9Q,kBAmB5F8V,GAAW3iB,YAAOkc,IAAPlc,CAAH4iB,MAQDpe,GAAS0B,YAAWC,YAAW,SAAAxE,GAAuB,IAArByE,EAAqBzE,EAArByE,OAAQC,EAAa1E,EAAb0E,QAC7C5G,EAAiB2U,aAAS7U,GAA1BE,cAcL,OACIoC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwS,SAAA,KAEQ7U,GACAoC,EAAAC,EAAAC,cAAC8gB,GAAD,KACIhhB,EAAAC,EAAAC,cAAC4gB,GAAD,CAAUlG,GAAI,cAAd,gBACA5a,EAAAC,EAAAC,cAAC5B,EAAD,CAAgBO,OAAK,EAACkE,QAlBvB,WACXwB,EAAOgC,OAAO,CACVC,SAAUka,KAET1P,KAAK,WACFvT,IACA+Q,KACAhK,EAAQoC,KAAK,OAEhBqK,MAAM,SAAAjN,GAAK,OAAI8C,KAAM9C,MAAMD,GAAgBC,OASGjF,OAAQ,GAA/C,eC1CLkiB,GAhBAC,eAAK,kBAChBlhB,EAAAC,EAAAC,cAACwe,EAAA,EAAD,KACI1e,EAAAC,EAAAC,cAACihB,GAAD,MACAnhB,EAAAC,EAAAC,cAACkgB,EAAA,EAAD,KAEQhB,GAAOlQ,IAAI,SAACkS,EAAOC,GAAR,OACPD,EAAM7B,KACAvf,EAAAC,EAAAC,cAACohB,GAADtjB,OAAAqD,OAAA,CAAcqR,IAAK2O,GAAOD,IAC1BphB,EAAAC,EAAAC,cAACqhB,GAADvjB,OAAAqD,OAAA,CAAaqR,IAAK2O,GAAOD,OAI3CphB,EAAAC,EAAAC,cAACshB,GAAA,EAAD,CAAgBC,SAAU3a,KAAM4a,SAASC,iKCVjD,IAAMC,GAASje,IAAHke,MAgCGC,GAxBH,WAAM,IACTljB,EAAS2T,aAAS4G,IAAlBva,MAEL,OACIoB,EAAAC,EAAAC,cAACmc,EAAA,EAAD,CAAOH,MAAO0F,IACT,SAAA9hB,GAA4B,IAA1B6G,EAA0B7G,EAA1B6G,KAAM4V,EAAoBzc,EAApByc,QAASvY,EAAWlE,EAAXkE,MACd,OAAIuY,EAAgBvc,EAAAC,EAAAC,cAAC2H,EAAD,CAAQpJ,MAAM,OAAOC,OAAO,OAAOE,MAAM,OAAO2B,kBAAkB,QAClFyD,GACA+d,QAAQC,IAAIhe,GACLhE,EAAAC,EAAAC,cAAA,4BAGPyG,EAAKsb,IACL1kB,EAAQoJ,EAAKsb,IAEbjiB,EAAAC,EAAAC,cAACgiB,EAAA,EAAD,CAAepG,MAAO,CAAC9Q,gBAAiBpM,IACpCoB,EAAAC,EAAAC,cAACiiB,GAAD,WCtBJC,QACW,cAA7B5Y,OAAOgX,SAAS6B,UAEe,UAA7B7Y,OAAOgX,SAAS6B,UAEhB7Y,OAAOgX,SAAS6B,SAASrG,MACvB,k/CChBC,IAAMsG,GAAcC,YAAHC,MCSlBje,GAAS,IAAIke,KAAa,CAC5BC,aAAc,CACVC,YAAa,aAIrBC,IAASvC,OACLrgB,EAAAC,EAAAC,cAACmc,EAAA,EAAD,CAAgB9X,OAAQA,IACpBvE,EAAAC,EAAAC,cAAC2iB,GAAD,MACA7iB,EAAAC,EAAAC,cAACoiB,GAAD,OAEJ5W,SAASoX,eAAe,SF2GtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMjS,KAAK,SAAAkS,GACjCA,EAAaC","file":"static/js/main.e05c7511.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/stickyNotes.2233c99a.png\";","import {createStore, createEvent} from 'effector';\r\n\r\nexport const setUser = createEvent('setUser');\r\nexport const resetAuth = createEvent('resetAuth');\r\n\r\nconst initialState = {\r\n    authenticated: false,\r\n    user: null\r\n};\r\n\r\nexport const $auth = createStore(initialState)\r\n    .on(setUser, (state, user) => ({\r\n            ...state,\r\n            user,\r\n            authenticated: true\r\n        })\r\n    )\r\n    .on(resetAuth, state => ({\r\n            ...state,\r\n            authenticated: false,\r\n            user: null\r\n        })\r\n    );\r\n\r\n","import styled from \"styled-components\";\r\n\r\nexport const Button = styled.button`\r\n    border: 0;\r\n    outline: none;\r\n    background: transparent;\r\n    cursor: pointer;\r\n`;","import styled from \"styled-components\";\r\nimport {Button} from \"./Button\";\r\n\r\nexport const LuminousButton = styled(Button)`\r\n    width: ${props => props.width || '100px'};\r\n    height: ${props => props.height || '24px'};\r\n    margin: ${props => props.margin || '20px 0'};\r\n    color: ${props => props.color || '#ffffff'};\r\n    font-size: 14px;\r\n    line-height: 1.55;\r\n    font-weight: 600;\r\n    border-width: 1px;\r\n    border-radius: 3px;\r\n    background-color: ${props => {\r\n        if(props.green)\r\n            return '#5fba4c';\r\n        else if(props.red)\r\n            return '#eb5a46';\r\n    }};\r\n    background-position: center center;\r\n    border-color: transparent;\r\n    border-style: solid;\r\n    transition: 140ms;\r\n    box-shadow: 0 5px 20px 0 ${props => {\r\n    if(props.green)\r\n        return '#52a041';\r\n    else if(props.red)\r\n        return '#eb4947';\r\n    }};\r\n    z-index: ${props => props.zIndex || 'auto'};\r\n`;","import styled from \"styled-components\";\r\nimport {Button} from \"./Button\";\r\n\r\nexport const PopoverButton = styled(Button)`\r\n  position: relative;\r\n  min-height: 34px;\r\n  transition: 140ms;\r\n  \r\n  &:hover {\r\n    background: #0074b9;\r\n    color: #fff;\r\n  }\r\n`;","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst Ellipsis = styled.div`\r\n     position: relative;\r\n     color: ${props => props.color || '#000'};\r\n     width: 2px;\r\n     height: 2px;\r\n     border-radius: 50%;\r\n     border: solid 1px currentColor;\r\n\r\n    &:before {\r\n      content: '';\r\n      position: absolute;\r\n      top: -1px;\r\n      left: -6px;\r\n      width: 2px;\r\n      height: 2px;\r\n      border-radius: 50%;\r\n      border: solid 1px currentColor;\r\n    }\r\n\r\n    &:after {\r\n      content: '';\r\n      position: absolute;\r\n      top: -1px;\r\n      left: 4px;\r\n      width: 2px;\r\n      height: 2px;\r\n      border-radius: 50%;\r\n      border: solid 1px currentColor;\r\n    }\r\n`;\r\n\r\nconst Close = styled.div`\r\n    color: #000;\r\n    position: relative;\r\n    width: 12px;\r\n    height: 12px;\r\n    \r\n    &:before {\r\n      content: '';\r\n      position: absolute;\r\n      top: 10px;\r\n      width: 12px;\r\n      height: 1px;\r\n      background-color: currentColor;\r\n      -webkit-transform: rotate(-45deg);\r\n              transform: rotate(-45deg);\r\n    }\r\n    \r\n    &:after {\r\n      content: '';\r\n      position: absolute;\r\n      top: 10px;\r\n      width: 12px;\r\n      height: 1px;\r\n      background-color: currentColor;\r\n      -webkit-transform: rotate(45deg);\r\n              transform: rotate(45deg);\r\n    }\r\n`;\r\n\r\nconst Plus = styled.div`\r\n    color: #000;\r\n    width: 20px;\r\n    position: relative;\r\n\r\n    &:before {\r\n      content: '';\r\n      position: absolute;\r\n      width: 12px;\r\n      height: 1px;\r\n      background-color: currentColor;\r\n    }\r\n    \r\n    &:after {\r\n      content: '';\r\n      position: absolute;\r\n      width: 12px;\r\n      height: 1px;\r\n      background-color: currentColor;\r\n      -webkit-transform: rotate(90deg);\r\n              transform: rotate(90deg);\r\n    }\r\n`;\r\n\r\nconst Edit = styled.div`\r\n      color: #000;\r\n      width: 14px;\r\n      height: 2px;\r\n      border-radius: 1px;\r\n      border: solid 1px currentColor;\r\n      -webkit-transform: rotate(-45deg);\r\n      transform: rotate(-45deg);\r\n\r\n    &:before {\r\n      content: '';\r\n      position: absolute;\r\n      left: -12px;\r\n      top: -1px;\r\n      width: 0;\r\n      height: 0;\r\n      border-left: solid 5px transparent;\r\n      border-right: solid 5px currentColor;\r\n      border-top: solid 2px transparent;\r\n      border-bottom: solid 2px transparent;\r\n    }\r\n`;\r\n\r\nconst Check = styled.div`\r\n  color: #000;\r\n  width: 14px;\r\n  height: 8px;\r\n  border-bottom: solid 1px currentColor;\r\n  border-left: solid 1px currentColor;\r\n  -webkit-transform: rotate(-45deg);\r\n  transform: rotate(-45deg);\r\n`;\r\n\r\nconst getIconByName = (name, props) => {\r\n    switch (name) {\r\n        case 'ellipsis':\r\n            return <Ellipsis {...props}/>;\r\n        case 'close':\r\n            return <Close {...props}/>;\r\n        case 'plus':\r\n            return <Plus {...props}/>;\r\n        case 'edit':\r\n            return <Edit {...props}/>;\r\n        case 'check':\r\n            return <Check {...props}/>;\r\n        default:\r\n    }\r\n};\r\n\r\nexport const Icon = ({name, ...props}) => (\r\n    getIconByName(name, props)\r\n);","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n    width: ${props => props.width || '20px'};\r\n    height:  ${props => props.height || '20px'};\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    animation: rotation;\r\n    transform: translate(-50%, -50%);\r\n\r\n    div {\r\n        animation: rotation ${props => props.animationDuration || 1}s linear infinite;\r\n        width: ${props => props.width || '20px'};\r\n        height: ${props => props.height || '20px'};\r\n        border-radius: 50%;\r\n        box-shadow: 0 2px 0 0 ${props => props.color || '#1d0e0b'};\r\n    }\r\n    \r\n    @keyframes rotation{\r\n        0 % {\r\n            --webkit-transform: rotate(0deg);\r\n            transform: rotate(0deg);\r\n        }\r\n        50% {\r\n            -webkit-transform: rotate(180deg);\r\n            transform: rotate(180deg);\r\n        }\r\n        100% {\r\n            -webkit-transform: rotate(360deg);\r\n            transform: rotate(360deg);\r\n    }\r\n}\r\n`;\r\n\r\n/**\r\n *\r\n * @param width\r\n * @param height\r\n * @param color\r\n * @param animationDuration (only seconds)\r\n * @returns {*}\r\n * @constructor\r\n */\r\nexport const Loader = ({width, height, color, animationDuration}) => (\r\n    <Container\r\n        width={width}\r\n        height={height}\r\n        color={color}\r\n        animationDuration={animationDuration}\r\n    >\r\n        <div/>\r\n    </Container>\r\n);","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 999;\r\n`;\r\n\r\nexport const Modal = ({children}) => (\r\n    <Container>\r\n        {children}\r\n    </Container>\r\n);","import React from \"react\";\r\n\r\nconst getIconPath = name => {\r\n    switch (name) {\r\n        case 'home':\r\n            return (\r\n                <g>\r\n                    <path d=\"M511.114,300.251c-9.94,0-17.638,7.663-17.638,17.651v241.105H368.401v-98.453c0-9.236-7.697-17.31-17.002-17.31h-90.435\r\n\t\t\tc-9.948,0-17.96,8.073-17.96,17.31v98.453h-124.76v-233.1c0-9.306-7.69-17.036-17.638-17.036c-9.298,0-16.995,7.73-16.995,17.036\r\n\t\t\tv250.752c0,9.305,7.697,17.036,16.995,17.036h160.358c9.298,0,16.995-7.731,16.995-17.036v-98.454h55.801v98.454\r\n\t\t\tc0,9.305,7.697,17.036,17.639,17.036h159.715c9.299,0,16.995-7.731,16.995-17.036V317.903\r\n\t\t\tC528.109,307.915,520.413,300.251,511.114,300.251z\"/>\r\n                    <path d=\"M607.003,314.003L467.819,174.225V78.919c0-9.921-8.019-17.583-17.96-17.583c-9.305,0-17.001,7.663-17.001,17.583v60.345\r\n\t\t\tL318.046,23.774c-3.518-3.558-7.697-5.474-11.864-5.474c-4.81,0-8.983,1.984-12.507,5.474L5.361,312.087\r\n\t\t\tc-6.917,6.91-7.375,17.994,0,24.357c6.411,7.389,17.454,6.91,24.371,0l276.45-275.793l275.807,278.393\r\n\t\t\tc2.873,2.874,7.054,4.516,12.507,4.516c4.81,0,8.976-1.642,12.507-4.516C613.42,332.613,613.899,320.982,607.003,314.003z\"/>\r\n                </g>\r\n            );\r\n        case 'board':\r\n            return (\r\n                <g>\r\n                    <path d=\"m497.001 331h-482c-8.291 0-15 6.709-15 15v30c0 8.291 6.709 15 15 15h71.796l-25.342 102.367c-2.021 8.027 2.871 16.172 10.913 18.179 7.949 2.01 16.161-2.805 18.179-10.913l27.158-109.633h276.592l27.158 109.633c2.021 8.119 10.241 12.922 18.179 10.913 8.042-2.007 12.935-10.151 10.913-18.179l-25.342-102.367h71.796c8.291 0 15-6.709 15-15v-30c0-8.291-6.709-15-15-15z\"/>\r\n                    <path d=\"m331.001 271h60v30h-60z\"/>\r\n                    <path d=\"m301.001 256c0-8.291 6.709-15 15-15h90c8.291 0 15 6.709 15 15v45h60v-286c0-8.291-6.709-15-15-15h-420c-8.291 0-15 6.709-15 15v286h270zm45-135c-8.291 0-15-6.709-15-15s6.709-15 15-15h30c8.291 0 15 6.709 15 15v45h15c8.291 0 15 6.709 15 15s-6.709 15-15 15h-60c-8.291 0-15-6.709-15-15s6.709-15 15-15h15v-30zm-180 60h-60c-8.291 0-15-6.709-15-15s6.709-15 15-15h15v-30h-15c-8.291 0-15-6.709-15-15s6.709-15 15-15h30c8.291 0 15 6.709 15 15v45h15c8.291 0 15 6.709 15 15s-6.709 15-15 15zm120-30h-15v15c0 8.291-6.709 15-15 15s-15-6.709-15-15v-15h-15c-8.291 0-15-6.709-15-15s6.709-15 15-15h15v-15c0-8.291 6.709-15 15-15s15 6.709 15 15v15h15c8.291 0 15 6.709 15 15s-6.709 15-15 15z\"/>\r\n                </g>\r\n            );\r\n        default:\r\n            return <path/>\r\n    }\r\n};\r\n\r\nexport const SvgIcon = ({\r\n                         name = '',\r\n                         width = '1em',\r\n                         height = '1em',\r\n                         fill = '#7f8081',\r\n                         viewBox = '0 0 300 300',\r\n                         ...props\r\n                     }) => (\r\n    <svg\r\n        width={width}\r\n        height={height}\r\n        viewBox={viewBox}\r\n        focusable='false'\r\n        role='img'\r\n        fill={fill}\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        data-testid='iconSvgContainer'\r\n        {...props}\r\n    >\r\n        {getIconPath(name)}\r\n    </svg>\r\n);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  overflow: hidden;\r\n  width: 20px;\r\n  height: 20px;\r\n  border: solid 2px #ddd;\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst Picker = styled.input`\r\n  position: absolute;\r\n  right: -8px;\r\n  top: -8px;\r\n  width: 50px;\r\n  height: 50px;\r\n  border: none;\r\n`;\r\n\r\nexport const ColorPicker = React.forwardRef(({defaultValue, ...props}, ref) => (\r\n    <Container>\r\n        <Picker defaultValue={defaultValue} type=\"color\" ref={ref} {...props} />\r\n    </Container>\r\n));\r\n","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Button} from \"../../../ui/atoms\";\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n    padding: 10px 0;\r\n    width: 100%;\r\n`;\r\n\r\nconst Location = styled(Button)`    \r\n    height: 35px;\r\n    min-width: 80px;\r\n    color: #d1d1d1;\r\n    transition: 0.4s;\r\n    box-shadow: ${props => props.active && ' inset 0 -0.175em white, inset 0 -0.2em #00bcd5;'}\r\n`;\r\n\r\nexport const Header = ({setIsSignIn, isSignIn}) => {\r\n    const setSingIn = () => {\r\n        setIsSignIn(true);\r\n    };\r\n\r\n    const setSignUp = () => {\r\n        setIsSignIn(false);\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Location\r\n                onClick={setSingIn}\r\n                active={isSignIn}\r\n            >\r\n                SignIn\r\n            </Location>\r\n            <Location\r\n                onClick={setSignUp}\r\n                active={!isSignIn}\r\n            >\r\n                SignUp\r\n            </Location>\r\n        </Container>\r\n    );\r\n};","import styled from \"styled-components\";\r\n\r\nexport const Input = styled.input`\r\n    border: 1px solid #d1d1d1;\r\n    height: ${props => props.height || '35px'}\r\n    padding: 0 10px;\r\n    outline: none;\r\n    transition: 0.4s;\r\n    box-sizing: border-box;\r\n    border-radius: 3px;\r\n    \r\n    &:focus {\r\n        border: 1px solid #2196f3;\r\n    }\r\n`;","import styled from \"styled-components\";\r\nimport {Input} from \"./Input\";\r\n\r\nexport const Form = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    max-width: 320px;\r\n    min-height: 200px;\r\n    justify-content: space-evenly;\r\n    \r\n    ${Input}+${Input} {\r\n      margin-top: 2px;\r\n    }\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const Error = styled.span`\r\n    color: red;\r\n    margin: 10px 0;\r\n`;","import styled from \"styled-components\";\r\nimport {Button} from \"../../../ui/atoms\";\r\n\r\nexport const SubmitButton = styled(Button)`\r\n    position: relative;\r\n    background-color: #00bcd5;\r\n    color: #ffffff;\r\n    height: 30px;\r\n    transition: background-color 0.2s ease-in-out;\r\n    margin-top: 10px;\r\n    \r\n    font-size: 14px;\r\n    line-height: 1.55;\r\n    font-weight: 600;\r\n    border-width: 1px;\r\n    border-radius: 3px;\r\n    background-position: center center;\r\n    border-color: transparent;\r\n    border-style: solid;\r\n    box-shadow: 0 5px 20px 0 rgba(25,105,176,1);\r\n    \r\n    &:hover {\r\n      background-color: #00abc1;\r\n    }\r\n    \r\n    &:active {\r\n      background-color: #009eb3;\r\n    }\r\n`;","import gql from \"graphql-tag\";\r\n\r\nexport const SIGN_IN = gql`\r\n    mutation signIn ($username: String!, $password: String!){\r\n        signIn(login: $username, password: $password) {\r\n            username\r\n        }\r\n    }\r\n`;\r\n\r\nexport const SIGN_UP = gql`\r\n    mutation signUp ($username: String!, $password: String!){\r\n        signUp(username: $username, password: $password) {\r\n            username\r\n        }\r\n    }\r\n`;\r\n\r\n","\r\nexport const getErrorMessage = error => {\r\n    const errorText = 'Error: GraphQL error:';\r\n    return error.toString().substring(errorText.length);\r\n};","import React, {useState} from 'react';\r\nimport {Error, Form, Input, SubmitButton} from \"../atoms\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {withRouter} from \"react-router\";\r\nimport {setUser} from \"../../common/models/auth\";\r\nimport {SIGN_IN} from \"../api\";\r\nimport {Loader} from \"../../../ui/atoms\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nexport const SignInForm = withRouter(withApollo(({client, history}) => {\r\n    let [error, setError] = useState(null);\r\n    let [username, setUsername] = useState(null);\r\n    let [password, setPassword] = useState(null);\r\n    let [isLoading, setIsLoading] = useState(false);\r\n\r\n    const signIn = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            setIsLoading(true);\r\n            const result = await client.mutate({\r\n                mutation: SIGN_IN,\r\n                variables: {\r\n                    username,\r\n                    password\r\n                }\r\n            });\r\n\r\n            setUser(result.data.signIn);\r\n            history.push('/boards');\r\n        } catch(error) {\r\n            toast.error(getErrorMessage(error));\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const usernameChange = event => {\r\n        setUsername(event.target.value);\r\n        setError(null);\r\n    };\r\n\r\n    const passwordChange = event => {\r\n        setPassword(event.target.value);\r\n        setError(null);\r\n    };\r\n\r\n    return (\r\n        <Form onSubmit={signIn}>\r\n            <Input\r\n                placeholder={'Username'}\r\n                onChange={usernameChange}\r\n                required\r\n                maxLength={12}\r\n            />\r\n            <Input\r\n                placeholder={'Password'}\r\n                onChange={passwordChange}\r\n                type={'password'}\r\n                required\r\n                maxLength={12}\r\n            />\r\n            {\r\n                error &&  <Error>{error}</Error>\r\n            }\r\n            <SubmitButton type={'submit'} disabled={isLoading}>\r\n                Submit\r\n            </SubmitButton>\r\n            {\r\n                isLoading && <Loader/>\r\n            }\r\n        </Form>\r\n    )\r\n}));","import React, {useState} from 'react';\r\nimport {Error, Form, Input, SubmitButton} from \"../atoms\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {withRouter} from \"react-router\";\r\nimport {setUser} from \"../../common/models/auth\";\r\nimport {SIGN_UP} from \"../api\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nexport const SignUpForm = withRouter(withApollo(({client, history}) => {\r\n    let [error, setError] = useState(null);\r\n    let [username, setUsername] = useState(null);\r\n    let [password, setPassword] = useState(null);\r\n    let [passwordConfirm, setPasswordConfirm] = useState(null);\r\n\r\n    const signUp = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            if (password === passwordConfirm) {\r\n                const result = await client.mutate({\r\n                    mutation: SIGN_UP,\r\n                    variables: {\r\n                        username,\r\n                        password\r\n                    }\r\n                });\r\n\r\n                setUser(result.data.signUp);\r\n                history.push('/boards');\r\n            } else {\r\n                setError('Passwords must match');\r\n            }\r\n        } catch (error) {\r\n            toast.error(getErrorMessage(error));\r\n        }\r\n    };\r\n\r\n    const usernameChange = event => {\r\n        setUsername(event.target.value);\r\n        setError(null);\r\n    };\r\n\r\n    const passwordChange = event => {\r\n        setPassword(event.target.value);\r\n        setError(null);\r\n    };\r\n\r\n    const passwordConfirmChange = event => {\r\n        setPasswordConfirm(event.target.value);\r\n        setError(null);\r\n    };\r\n\r\n    return (\r\n        <Form onSubmit={signUp}>\r\n            <Input\r\n                onChange={usernameChange}\r\n                placeholder={'Username'}\r\n                required\r\n                maxLength={12}\r\n            />\r\n            <Input\r\n                onChange={passwordChange}\r\n                placeholder={'Password'}\r\n                type={'password'}\r\n                required\r\n                maxLength={12}\r\n            />\r\n            <Input\r\n                onChange={passwordConfirmChange}\r\n                placeholder={'Confirm password'}\r\n                type={'password'}\r\n                required\r\n                maxLength={12}\r\n            />\r\n            {\r\n                error && <Error>{error}</Error>\r\n            }\r\n            <SubmitButton type={'submit'}>Submit</SubmitButton>\r\n        </Form>\r\n    );\r\n}));","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n    position: relative;\r\n    height: 100vh;\r\n    width: 100%;\r\n    background-image: url(https://cdn.pixabay.com/photo/2018/03/20/10/55/paper-3242863_960_720.jpg);\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    background-position: center;\r\n    \r\n    &:after {\r\n      content: '';\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      background: rgba(0, 0, 0, 0.2);\r\n    }\r\n`;\r\n\r\nconst Text = styled.div`\r\n    position: absolute;\r\n    top: 8%;\r\n    left: 3%;\r\n    font-size: 2rem;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    text-align: right;\r\n    z-index: 2;\r\n`;\r\n\r\nconst MainText = styled(Text)`\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    text-align: center;\r\n    font-size: 2.5rem;\r\n`;\r\n\r\nexport const MainBackground = () => (\r\n    <Container>\r\n        <Text>\r\n            Plan Your Work\r\n        </Text>\r\n        <MainText>StickyNotes lets your work more collaboratively<br/>\r\n            and get more done\r\n        </MainText>\r\n    </Container>\r\n);","import React, {useState} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Header} from \"../molecules\";\r\nimport {SignInForm, SignUpForm} from \"../molecules\";\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nexport const AuthForm = () => {\r\n    let [isSignIn, setIsSignIn] = useState(true);\r\n\r\n    return (\r\n        <Container>\r\n            <Header isSignIn={isSignIn} setIsSignIn={setIsSignIn}/>\r\n            {\r\n                isSignIn\r\n                    ? <SignInForm/>\r\n                    : <SignUpForm/>\r\n            }\r\n        </Container>\r\n    );\r\n};","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport stickyNotes from \"./stickyNotes.png\";\r\nimport {Button} from \"../../../ui/atoms\";\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  height: 100%;\r\n  width: 100%;\r\n  color: #fff;\r\n  text-align: center;\r\n  padding: 15vh 10% 0 10%;\r\n  font-family: \"Century Gothic\", 'sans-serif';\r\n  \r\n  &:before {\r\n    content: '';\r\n    position: absolute; top: 0; left: 0;\r\n    width: 100%;\r\n    height: 75%;\r\n    z-index: -1;\r\n    background: linear-gradient(#0f1a38, #2564b9);\r\n  }\r\n  \r\n  &:after {\r\n    content: '';\r\n    width: 43%;\r\n    height: 47%;\r\n    z-index: 2;\r\n    position: absolute;\r\n    top: 82%;\r\n    left: 50%;\r\n    transform: translate(-50%, -82%);\r\n    background-image: url(${stickyNotes});\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n    transition: 0.5s;\r\n  }\r\n  \r\n  @media (max-width: 425px) {\r\n    &:after {\r\n      width: 70%;\r\n      height: 25%;\r\n    }\r\n  }\r\n  \r\n  @media (min-width: 650px) {\r\n     &:after {\r\n      width: 50%;\r\n      height: 35%;\r\n    }\r\n  }\r\n  \r\n  @media (min-width: 900px) {\r\n     &:after {\r\n      width: 32%;\r\n      height: 35%;\r\n    }\r\n  }\r\n  \r\n  @media (min-width: 1440px) {\r\n     &:after {\r\n      width: 30%;\r\n      height: 35%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  margin: 0 0 20px;\r\n  font-size: 2rem;\r\n`;\r\n\r\nconst Text = styled.div`\r\n  font-size: 1.4rem;\r\n`;\r\n\r\nconst GoToBoardsButton = styled(Button)`\r\n    width: 150px;\r\n    height: 36px;\r\n    margin: 20px 0;\r\n    color: #ffffff;\r\n    font-size: 14px;\r\n    line-height: 1.55;\r\n    font-weight: 600;\r\n    border-width: 1px;\r\n    border-radius: 5px;\r\n    background-color: #5fba4c;\r\n    background-position: center center;\r\n    border-color: transparent;\r\n    border-style: solid;\r\n    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out;\r\n    box-shadow: 0 5px 20px 0 #52a041;\r\n`;\r\n\r\nexport const Description = () => {\r\n    const scrollToTop = () => {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: \"smooth\"\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Title>For Startups</Title>\r\n            <Text>From development to launch, building a team to building a business, see\r\n                <br/> how Sticky Notes help startups succeed\r\n            </Text>\r\n            <GoToBoardsButton onClick={scrollToTop}>Go To Your Boards</GoToBoardsButton>\r\n        </Container>\r\n    );\r\n};","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {AuthForm, Description} from \"../organisms\";\r\nimport {MainBackground} from \"../molecules\";\r\n\r\nconst MainContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    \r\n    @media (max-width: 660px) {\r\n      flex-direction: column;\r\n    }\r\n`;\r\n\r\nconst AuthSide = styled.div`\r\n    display: flex;\r\n    background-color: #ffffff;\r\n    padding: 50px;\r\n    width: 40%;\r\n    max-width: 500px;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    \r\n    @media (max-width: 660px) {\r\n      width: 100%;\r\n      max-width: 100%;\r\n      height: 100vh;\r\n      justify-content: center;\r\n    }\r\n`;\r\n\r\nconst Logo = styled.div`\r\n    font-size: 30px;\r\n    margin-bottom: 40px;\r\n`;\r\n\r\nconst AuthFormContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    margin-top: 30%;\r\n    \r\n    @media (max-width: 660px) {\r\n      margin-top: 0;\r\n    }\r\n`;\r\n\r\nexport const Welcome = () => {\r\n    return (\r\n        <MainContainer>\r\n            <Container>\r\n                <MainBackground/>\r\n                <AuthSide>\r\n                    <AuthFormContainer>\r\n                        <Logo>StickyNotes</Logo>\r\n                        <AuthForm/>\r\n                    </AuthFormContainer>\r\n                </AuthSide>\r\n            </Container>\r\n            <Description/>\r\n        </MainContainer>\r\n    )\r\n};","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Button, Icon} from \"../../../ui/atoms\";\r\n\r\nconst AddButton = styled(Button)`\r\n    color: #6b778c;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 8px;\r\n    min-height: 32px;\r\n    border-radius: 3px;\r\n    \r\n    &:hover {\r\n       background: lightgray;\r\n       transition: 0.3s;\r\n    }\r\n    \r\n    span:first-of-type {\r\n       margin-left: 30px;\r\n    }\r\n`;\r\n\r\nexport const AddCardButton = ({addNewCard}) => (\r\n    <AddButton onClick={addNewCard}>\r\n        <Icon name='plus'/>\r\n        <span>Add new Card</span>\r\n    </AddButton>\r\n);","import styled from \"styled-components\";\r\nimport {Button} from \"../../../ui/atoms\";\r\n\r\nexport const AddColumnButton = styled(Button)`\r\n    background-color: rgba(0,0,0,.12);\r\n    cursor: pointer;\r\n    color: #fff;\r\n    border-radius: 3px;\r\n    height: auto;\r\n    min-height: 32px;\r\n    padding: 6px 10px;\r\n    min-width: 270px;\r\n    max-width: 270px;\r\n    \r\n    @media (max-width: 425px) {\r\n      margin: 0 auto;\r\n    }\r\n`;","import styled from \"styled-components\";\r\nimport {Button} from \"../../../ui/atoms\";\r\n\r\nexport const OptionsButton = styled(Button)`\r\n  height: 28px;\r\n  width: 28px;\r\n  border-radius: 3px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transition: 0.3s;\r\n  \r\n  &:hover {\r\n    background: lightgray;\r\n  }\r\n  \r\n  &:active {\r\n    background: darkgray;\r\n  }\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const Mark = styled.div`\r\n  width: 100%;\r\n  height: 30px;\r\n  background-color: ${props => props.backgroundColor};\r\n  opacity: 0.9;\r\n  border-radius: 5px;\r\n  transition: 0.1s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  padding: 0 10px;\r\n  cursor: pointer;\r\n  \r\n  &+& {\r\n    margin-top: 10px;\r\n  }\r\n  \r\n  &:hover {\r\n    opacity: 1;\r\n    transform: scale(1.01);\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const TextArea = styled.textarea`\r\n    margin-top: 5px;\r\n    box-shadow: 0 4px 8px -2px rgba(9,30,66,.25), 0 0 0 1px rgba(9,30,66,.08);\r\n    width: 100%;\r\n    min-height: 80px;\r\n    margin-bottom: 15px;\r\n    resize: none;\r\n`;","import {useEffect} from 'react';\r\n\r\nexport const useOnClickOutside = (ref, handler) => {\r\n    useEffect(\r\n        () => {\r\n            const listener = event => {\r\n                // Do nothing if clicking ref's element or descendent elements\r\n                if (!ref.current || ref.current.contains(event.target)) {\r\n                    return;\r\n                }\r\n\r\n                handler(event);\r\n            };\r\n\r\n            document.addEventListener('mousedown', listener);\r\n            document.addEventListener('touchstart', listener);\r\n\r\n            return () => {\r\n                document.removeEventListener('mousedown', listener);\r\n                document.removeEventListener('touchstart', listener);\r\n            };\r\n        },\r\n        // Add ref and handler to effect dependencies\r\n        // It's worth noting that because passed in handler is a new ...\r\n        // ... function on every render that will cause this effect ...\r\n        // ... callback/cleanup to run every render. It's not a big deal ...\r\n        // ... but to optimize you can wrap handler in useCallback before ...\r\n        // ... passing it into this hook.\r\n        [ref, handler]\r\n    );\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const PopoverTitle = styled.div`\r\n    box-sizing: border-box;\r\n    color: #6b778c;\r\n    display: block;\r\n    line-height: 40px;\r\n    border-bottom: 1px solid rgba(9,30,66,.13);\r\n    margin: 0 12px;\r\n    overflow: hidden;\r\n    padding: 0 32px;\r\n    position: relative;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    z-index: 1;\r\n`;","import gql from \"graphql-tag\";\r\n\r\nexport const GET_COLUMNS = gql`\r\n    query columns($title: String!) {\r\n        columns(title: $title) {\r\n            title, id, index, records {\r\n                id, text, index, createdAt, marks {\r\n                    id, color, \r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_BOARD = gql`\r\n    query board($title: String!) {\r\n        board(title: $title) {\r\n            id, title, color\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_RECORD = gql`\r\n    mutation createRecord ($text: String!, $columnId: ID!) {\r\n        createRecord(text: $text, columnId: $columnId) {\r\n            id, text, index, createdAt, marks {\r\n                id, color\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_COLUMN = gql`\r\n    mutation createColumn ($title: String!, $boardTitle: String!) {\r\n        createColumn(title: $title, boardTitle: $boardTitle) {\r\n            title, id, index, records {\r\n                text, columnId\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const REMOVE_COLUMN = gql`\r\n    mutation removeColumn ($columnId: ID!) {\r\n        removeColumn(columnId: $columnId)\r\n    }\r\n`;\r\n\r\nexport const UPDATE_RECORD = gql`\r\n    mutation updateRecord ($recordId: ID!, $text: String!) {\r\n        updateRecord(recordId: $recordId, text: $text)\r\n    }\r\n`;\r\n\r\nexport const CREATE_MARK = gql`\r\n    mutation createMark ($recordId: ID!, $color: String!) {\r\n        createMark(color: $color, recordId: $recordId) {\r\n            id, color\r\n        }\r\n    }\r\n`;\r\n\r\nexport const REMOVE_MARK = gql`\r\n    mutation removeMark ($markId: ID!) {\r\n        removeMark(markId: $markId)\r\n    }\r\n`;\r\n\r\nexport const RENAME_COLUMN = gql`\r\n    mutation renameColumn($columnId: ID!, $title: String!) {\r\n        renameColumn(columnId: $columnId, title: $title)\r\n    }\r\n`;\r\n\r\nexport const REMOVE_RECORD = gql`\r\n    mutation removeRecord($recordId: ID!) {\r\n        removeRecord(recordId: $recordId)\r\n    }\r\n`;\r\n\r\nexport const REORDER_COLUMNS = gql`\r\n    mutation reorderColumns($oldIndex: Int!, $newIndex: Int!) {\r\n        reorderColumns(oldIndex: $oldIndex, newIndex: $newIndex)\r\n    }\r\n`;\r\n\r\nexport const REORDER_RECORDS = gql`\r\n    mutation reorderRecords($columnId: ID!, $oldIndex: Int!, $newIndex: Int!) {\r\n        reorderRecords(columnId: $columnId, oldIndex: $oldIndex, newIndex: $newIndex)\r\n    }\r\n`;\r\n\r\nexport const REMOVE_BOARD = gql`\r\n    mutation removeBoard($boardId: ID!) {\r\n        removeBoard(boardId: $boardId)\r\n    }\r\n`;\r\n\r\nexport const RENAME_BOARD = gql`\r\n    mutation renameBoard($boardId: ID!, $title: String!) {\r\n        renameBoard(boardId: $boardId, title: $title)\r\n    }\r\n`;\r\n\r\nexport const CHANGE_BOARD_COLOR = gql`\r\n    mutation changeBoardColor($boardId: ID!, $color: String!) {\r\n        changeBoardColor(boardId: $boardId, color: $color)\r\n    }\r\n`;\r\n","import {createStore, createEvent} from 'effector';\r\nimport arrayMove from \"array-move\";\r\n\r\nexport const setColumns = createEvent('setColumns');\r\nexport const reorderColumns = createEvent('reorderColumns');\r\nexport const addRecord = createEvent('addRecord');\r\nexport const addMark = createEvent('addMark');\r\nexport const removeMark = createEvent('removeMark');\r\nexport const addColumn = createEvent('addColumn');\r\nexport const removeColumn = createEvent('removeColumn');\r\nexport const reorderRecords = createEvent('reorderRecords');\r\nexport const updateRecord = createEvent('updateRecord');\r\nexport const renameColumn = createEvent('renameColumn');\r\nexport const removeRecord = createEvent('removeRecord');\r\nexport const resetDashboard = createEvent('resetDashboard');\r\n\r\nconst initialState = {\r\n    columns: null\r\n};\r\n\r\nexport const $dashboard = createStore(initialState)\r\n    .on(setColumns, (state, columns) => ({...state, columns}))\r\n    .on(reorderColumns, (state, {oldIndex, newIndex}) => {\r\n        const tempIndex = state.columns[oldIndex].index;\r\n        state.columns[oldIndex].index = state.columns[newIndex].index;\r\n        state.columns[newIndex].index = tempIndex;\r\n\r\n        state.columns = arrayMove(state.columns, oldIndex, newIndex);\r\n        return {...state};\r\n    })\r\n    .on(addRecord, (state, {columnId, record}) => {\r\n        const columns = state.columns.map((column, index) => {\r\n            if (column.id === columnId)\r\n                state.columns[index].records.push(record);\r\n\r\n            return column;\r\n        });\r\n        return {...state, columns};\r\n    })\r\n    .on(addColumn, (state, column) => {\r\n        if (!Array.isArray(column.records))\r\n            column.records = [];\r\n        state.columns.push(column);\r\n\r\n        return {...state};\r\n    })\r\n    .on(reorderRecords, (state, {columnId, oldIndex, newIndex}) => {\r\n        const columns = state.columns.map(column => {\r\n            if (column.id === columnId) {\r\n                const tempIndex = column.records[oldIndex].index;\r\n                column.records[oldIndex].index = column.records[newIndex].index;\r\n                column.records[newIndex].index = tempIndex;\r\n\r\n                column.records = arrayMove(column.records, oldIndex, newIndex);\r\n            }\r\n            return column;\r\n        });\r\n        return {...state, columns};\r\n    })\r\n    .on(updateRecord, (state, {recordId, text}) => {\r\n        const columns = state.columns.map(column => {\r\n            column.records = column.records.map(record => {\r\n                if (record.id === recordId)\r\n                    record.text = text;\r\n\r\n                return record;\r\n            });\r\n            return column;\r\n        });\r\n        return {...state, columns};\r\n    })\r\n    .on(removeColumn, (state, columnId) => {\r\n        const columns = state.columns.filter(column => column.id !== columnId);\r\n        return {...state, columns};\r\n    })\r\n    .on(addMark, (state, {recordId, mark}) => {\r\n        const index = state.columns.findIndex(column => column.records.find(record => record.id === recordId));\r\n        state.columns[index].records.forEach(record => {\r\n            if (record.id === recordId)\r\n                record.marks = [...record.marks, mark];\r\n        });\r\n        return {...state};\r\n    })\r\n    .on(removeMark, (state, markId) => {\r\n        const columns = state.columns.map(column => {\r\n            column.records = column.records.map(record => {\r\n                record.marks = record.marks.filter(mark => mark.id !== markId);\r\n                return record;\r\n            });\r\n            return column;\r\n        });\r\n        return {...state, columns};\r\n    })\r\n    .on(renameColumn, (state, {columnId, title}) => {\r\n        const column = state.columns.forEach(column => {\r\n            if (column.id === columnId)\r\n                column.title = title;\r\n            return column;\r\n        });\r\n        return {...state, column};\r\n    })\r\n    .on(removeRecord, (state, recordId) => {\r\n        const columns = state.columns.map(column => {\r\n            column.records = column.records.filter(record => record.id !== recordId);\r\n            return column;\r\n        });\r\n        return {...state, columns};\r\n    })\r\n    .reset(resetDashboard);","import styled from \"styled-components\";\r\n\r\nexport const Popover = styled.div`\r\n    position: absolute;\r\n    background: #fff;\r\n    border-radius: 3px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    box-shadow: 0 8px 16px -4px rgba(9,30,66,.25), 0 0 0 1px rgba(9,30,66,.08);\r\n    width: 300px;\r\n    padding: 4px;\r\n    z-index: 70;\r\n    top: ${props => props.top || '45px'};\r\n    left: ${props => props.left || '220px'};\r\n    text-align: center;\r\n    transform: translateZ(0);\r\n    \r\n    @media (max-width: 375px) {\r\n      width: 250px;\r\n    }\r\n    \r\n    @media (max-width: 768px) {\r\n      left: ${props => props.left || '30px'};\r\n    }\r\n`;","import React, {useRef, useState} from 'react';\r\nimport {useOnClickOutside} from \"../hooks\";\r\nimport {PopoverTitle} from \"../../../ui/molecules/PopoverTitle\";\r\nimport {Loader, PopoverButton} from \"../../../ui/atoms\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {REMOVE_COLUMN} from \"../api\";\r\nimport {removeColumn} from \"../models/dashboard\";\r\nimport {Popover} from \"../../../ui/organisms\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nexport const ColumnPopover = withApollo(({closePopover, columnId, client, op}) => {\r\n    let popoverRef = useRef(null);\r\n    let [isLoading, setIsLoading] = useState(false);\r\n\r\n    useOnClickOutside(popoverRef, closePopover);\r\n\r\n    const remove = () => {\r\n        setIsLoading(true);\r\n        client.mutate({\r\n            mutation: REMOVE_COLUMN,\r\n            variables: {\r\n                columnId\r\n            }\r\n        })\r\n            .then(() => {\r\n                setIsLoading(false);\r\n                closePopover();\r\n                removeColumn(columnId);\r\n            })\r\n            .catch(error => toast.error(getErrorMessage(error)));\r\n    };\r\n\r\n    return (\r\n        <Popover ref={popoverRef}>\r\n            <PopoverTitle>Actions with list</PopoverTitle>\r\n            <PopoverButton onClick={remove} disabled={isLoading}>\r\n                Remove list\r\n                {\r\n                    isLoading && <Loader color='#fff'/>\r\n                }\r\n            </PopoverButton>\r\n            <PopoverButton onClick={op}>Rename list</PopoverButton>\r\n        </Popover>\r\n    );\r\n});","import React, {useRef, useState} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {OptionsButton} from \"../atoms\";\r\nimport {ColumnPopover} from \"./ColumnPopover\";\r\nimport {useOnClickOutside} from \"../hooks\";\r\nimport {Input} from \"../../auth/atoms\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {RENAME_COLUMN} from \"../api\";\r\nimport {renameColumn} from \"../models/dashboard\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nconst Container = styled.div`\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    min-height: 34px;\r\n    padding: 10px 0 4px 0;\r\n    overflow: visible;\r\n`;\r\n\r\nconst Text = styled.span`\r\n    font-weight: bold;\r\n`;\r\n\r\nexport const Title = withApollo(({icon, children, client, columnId}) => {\r\n    let [isTitleRenamed, setIsTitleRenamed] = useState(false);\r\n    let [isPopoverOpen, setIsPopoverOpen] = useState(false);\r\n    let titleRef = useRef(null);\r\n\r\n    const renameColumnn = () => {\r\n        const title = titleRef.current.value;\r\n        if (title !== children && title.length > 0 && title.length < 20) {\r\n            client.mutate({\r\n                mutation: RENAME_COLUMN,\r\n                variables: {\r\n                    columnId,\r\n                    title\r\n                }\r\n            })\r\n                .then(() => {\r\n                    renameColumn({\r\n                        columnId,\r\n                        title\r\n                    });\r\n                })\r\n                .catch(error => toast.error(getErrorMessage(error)));\r\n        }\r\n        setIsTitleRenamed(false);\r\n    };\r\n\r\n    const op = async () => {\r\n        await setIsTitleRenamed(true);\r\n        titleRef.current.focus();\r\n        closePopover();\r\n    };\r\n\r\n    useOnClickOutside(titleRef, renameColumnn);\r\n\r\n    const popover = () => {\r\n        setIsPopoverOpen(!isPopoverOpen);\r\n    };\r\n\r\n    const closePopover = () => {\r\n        setIsPopoverOpen(false);\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            {\r\n                isTitleRenamed\r\n                    ? <Input height='28px' defaultValue={children} ref={titleRef}/>\r\n                    : <Text>{children}</Text>\r\n            }\r\n            <OptionsButton onClick={popover}>{icon}</OptionsButton>\r\n            {\r\n                isPopoverOpen &&\r\n                <ColumnPopover\r\n                    op={op}\r\n                    closePopover={closePopover}\r\n                    columnId={columnId}\r\n                />\r\n            }\r\n        </Container>\r\n    );\r\n});","\r\nexport const getMarksByRecordId = (columns, recordId) => {\r\n    const column = columns.find(column => column.records.find(record => record.id === recordId));\r\n    return Object.is(column, undefined)\r\n        ? [] : column.records.find(record => record.id === recordId).marks;\r\n};\r\n","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {useStore} from \"effector-react\";\r\nimport {$dashboard} from \"../models/dashboard\";\r\nimport {getMarksByRecordId} from \"../selectors\";\r\n\r\nconst MarksList = styled.ul`\r\n  display: flex;\r\n  align-self: flex-start;\r\n  margin: 4px 0 8px 0;\r\n`;\r\n\r\nconst MiniMark = styled.li`\r\n  width: 44px;\r\n  height: 6px;\r\n  border-radius: 3px;\r\n  opacity: 0.9;\r\n  background-color: ${props => props.backgroundColor};\r\n  cursor: pointer;\r\n  \r\n  &+& {\r\n    margin-left: 3px;\r\n  }\r\n`;\r\n\r\nexport const MiniMarks = ({recordId}) => {\r\n    let {columns} = useStore($dashboard);\r\n    let miniMarks = getMarksByRecordId(columns, recordId);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                miniMarks.length > 0 &&\r\n                <MarksList>\r\n                    {\r\n                        miniMarks.map(({color}, index) => (\r\n                            <MiniMark key={index} backgroundColor={color}/>\r\n                        ))\r\n                    }\r\n                </MarksList>\r\n            }\r\n        </>\r\n    );\r\n};","import React, {useState} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Button, Icon} from \"../../../ui/atoms\";\r\nimport usePortal from \"react-useportal\";\r\nimport {EditModal} from \"../organisms\";\r\nimport {MiniMarks} from \"./MiniMarks\";\r\n\r\nconst Container = styled.li`\r\n    position: relative;\r\n    background: #fff;\r\n    min-height: 30px;\r\n    border-radius: 3px;\r\n    margin: 8px 0;\r\n    padding: 4px;\r\n    cursor: grab;\r\n    word-break: break-all;\r\n    transition: 0.1s;\r\n    box-shadow: 0 1px 0 rgba(9,30,66,.25);\r\n    \r\n    &:hover {\r\n      background: whitesmoke;\r\n    }\r\n`;\r\n\r\nconst EditButton = styled(Button)`\r\n    position: absolute;\r\n    left: calc(100% - 30px);\r\n    top: 1px;\r\n    transform: translateZ(0);\r\n    height: 28px;\r\n    width: 28px;\r\n    border-radius: 3px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    transition: 0.3s;\r\n    background: lightgray;\r\n      \r\n    &:hover {\r\n      background: darkgray;\r\n    }\r\n      \r\n    &:active {\r\n      background: gray;\r\n    }\r\n`;\r\n\r\nexport const Card = ({record}) => {\r\n    let [isEditHovered, setIsEditHovered] = useState(false);\r\n    const {openPortal, closePortal, isOpen, Portal} = usePortal();\r\n\r\n    const modalOpenClose = () => {\r\n        isOpen ? closePortal() : openPortal();\r\n    };\r\n\r\n    return (\r\n        <Container\r\n            onMouseOver={() => setIsEditHovered(true)}\r\n            onMouseLeave={() => setIsEditHovered(false)}\r\n        >\r\n            <MiniMarks recordId={record.id}/>\r\n            {record.text}\r\n            {\r\n                isEditHovered &&\r\n                <EditButton onClick={modalOpenClose}>\r\n                    <Icon name='edit'/>\r\n                </EditButton>\r\n            }\r\n            {\r\n                isOpen &&\r\n                <Portal>\r\n                    <EditModal\r\n                        closePortal={closePortal}\r\n                        record={record}\r\n                    />\r\n                </Portal>\r\n            }\r\n        </Container>\r\n    );\r\n};","import React, {useRef} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {useOnClickOutside} from \"../hooks\";\r\nimport {Button} from \"../../../ui/atoms\";\r\n\r\nconst Container = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-height: 90px;\r\n    margin-bottom: 6px;\r\n`;\r\n\r\nconst AddButton = styled(Button)`\r\n    background-color: #5aac44;\r\n    box-shadow: 0 1px 0 0 #3f6f21;\r\n    color: #fff;\r\n    font-weight: 700;\r\n    margin: 8px 4px 0 0;\r\n    padding: 6px 12px;\r\n    border-radius: 3px;\r\n    width: 100%;\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n    height: 55px;\r\n    resize: none;\r\n    border-radius: 3px;\r\n`;\r\n\r\nexport const NewCard = ({createCard, removeNewCard}) => {\r\n\r\n    const ref = useRef(null);\r\n    const textRef = useRef(null);\r\n    useOnClickOutside(ref, removeNewCard);\r\n\r\n    const onSubmit = async event => {\r\n        event.preventDefault();\r\n        await createCard(textRef.current.value);\r\n        if(textRef.current)\r\n            textRef.current.value = '';\r\n    };\r\n\r\n    return (\r\n        <Container onSubmit={onSubmit} ref={ref}>\r\n            <TextArea ref={textRef} placeholder='Enter text'/>\r\n            <AddButton type='submit'>Add card</AddButton>\r\n        </Container>\r\n    );\r\n};","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {CREATE_MARK, REMOVE_MARK} from \"../api\";\r\nimport {$dashboard, addMark, removeMark} from \"../models/dashboard\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {Icon} from \"../../../ui/atoms\";\r\nimport {useStore} from \"effector-react\";\r\nimport {getMarksByRecordId} from \"../selectors\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\nimport {Mark} from \"../atoms\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 5px;\r\n  padding: 15px;\r\n  width: 60%;\r\n`;\r\n\r\nconst colors = [\r\n    '#61bd4f',\r\n    '#ffed1a',\r\n    '#ff9f1a',\r\n    '#eb5a46'\r\n];\r\n\r\nexport const Marks = withApollo(({recordId, client}) => {\r\n    let {columns} = useStore($dashboard);\r\n    let marks = getMarksByRecordId(columns, recordId);\r\n\r\n    const createMark = color => {\r\n        client.mutate({\r\n            mutation: CREATE_MARK,\r\n            variables: {\r\n                color,\r\n                recordId\r\n            }\r\n        })\r\n            .then(({data}) => {\r\n                addMark({\r\n                    recordId,\r\n                    mark: data.createMark\r\n                });\r\n            })\r\n            .catch(error => toast.error(getErrorMessage(error)));\r\n    };\r\n\r\n    const remove = color => {\r\n        const markId = marks.find(mark => mark.color === color).id;\r\n        client.mutate({\r\n            mutation: REMOVE_MARK,\r\n            variables: {\r\n                markId\r\n            }\r\n        })\r\n            .then(() => {\r\n                removeMark(markId);\r\n            })\r\n            .catch(error => toast.error(getErrorMessage(error)));\r\n    };\r\n\r\n    const markOnClick = color => {\r\n        const isExist = marks.some(mark => mark.color === color);\r\n        isExist ? remove(color) : createMark(color);\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            {\r\n                colors.map((color, index) =>\r\n                    <Mark key={index} onClick={() => markOnClick(color)} backgroundColor={color}>\r\n                        {marks.some(mark => mark.color === color) && <Icon name='check'/>}\r\n                    </Mark>\r\n                )\r\n            }\r\n        </Container>\r\n    );\r\n});","import React, {useEffect, useRef} from \"react\";\r\nimport {SortableContainer, SortableElement} from \"react-sortable-hoc\";\r\nimport {Card} from \"../molecules\";\r\nimport styled from \"styled-components\";\r\nimport {reorderRecords} from \"../models/dashboard\";\r\nimport {REORDER_RECORDS} from \"../api\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nconst CardsList = styled.ul`\r\n   overflow-y: auto;\r\n`;\r\n\r\nexport const Cards = withApollo(({client, columnId, records}) => {\r\n    let containerRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        containerRef.current.scrollTop = containerRef.current.scrollHeight;\r\n    }, [records.length]);\r\n\r\n    const onSortEnd = async ({oldIndex, newIndex}) => {\r\n        if(newIndex !== oldIndex) {\r\n            reorderRecords({columnId, oldIndex, newIndex});\r\n            client.mutate({\r\n                mutation: REORDER_RECORDS,\r\n                variables: {\r\n                    columnId,\r\n                    oldIndex: records[oldIndex].index,\r\n                    newIndex: records[newIndex].index\r\n                }\r\n            }).catch(error => toast.error(getErrorMessage(error)));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <SortableList\r\n            items={records}\r\n            onSortEnd={onSortEnd}\r\n            containerRef={containerRef}\r\n            />\r\n    );\r\n});\r\n\r\nconst SortableItem = SortableElement(({item}) => <Card record={item}/>);\r\n\r\n\r\nconst SortableList = SortableContainer(({items, containerRef}) => (\r\n    <CardsList ref={containerRef}>\r\n        {\r\n            Array.isArray(items) && items.map((item, index) => (\r\n                <SortableItem key={`record-${index}`} index={index} item={item}/>\r\n            ))\r\n        }\r\n    </CardsList>\r\n));","import React, {useState} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {NewCard, Title} from \"../molecules\";\r\nimport {AddCardButton} from \"../atoms\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {CREATE_RECORD} from \"../api\";\r\nimport {Cards} from \"./Cards\";\r\nimport {addRecord} from \"../models/dashboard\";\r\nimport {Icon} from \"../../../ui/atoms\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nconst Container = styled.div`\r\n    background: #dfe1e6;\r\n    border-radius: 3px;\r\n    width: 270px;\r\n    padding: 4px 10px 6px 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    white-space: normal;\r\n    margin: 0 10px;\r\n    height: 100%;\r\n    max-height: calc(100vh - 100px);\r\n`;\r\n\r\nexport const Column = withApollo(({client, item}) => {\r\n    let [newCard, setNewCard] = useState(false);\r\n\r\n    const addNewCard = () => {\r\n        setNewCard(true);\r\n    };\r\n\r\n    const createCard = text => {\r\n        if (text.length > 0 && text.length < 400) {\r\n            client.mutate({\r\n                mutation: CREATE_RECORD,\r\n                variables: {\r\n                    columnId: item.id,\r\n                    text\r\n                }\r\n            })\r\n                .then(({data}) => {\r\n                    addRecord({\r\n                        columnId: item.id,\r\n                        record: data.createRecord\r\n                    });\r\n                })\r\n                .catch(error => toast.error(getErrorMessage(error)));\r\n        }\r\n    };\r\n\r\n    const removeNewCard = () => {\r\n        setNewCard(false);\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Title icon={<Icon name='ellipsis'/>} columnId={item.id}>\r\n                {item.title}\r\n            </Title>\r\n            <Cards columnId={item.id} records={item.records}/>\r\n            {\r\n                newCard\r\n                    ? <NewCard createCard={createCard} removeNewCard={removeNewCard}/>\r\n                    : <AddCardButton addNewCard={addNewCard}/>\r\n            }\r\n        </Container>\r\n    );\r\n});","import React, {useRef, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {LuminousButton, Modal} from \"../../../ui/atoms\";\r\nimport {useOnClickOutside} from \"../hooks\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {REMOVE_RECORD, UPDATE_RECORD} from \"../api\";\r\nimport {removeRecord, updateRecord} from \"../models/dashboard\";\r\nimport {Marks, MiniMarks} from \"../molecules\";\r\nimport {getTimeByMs} from \"../utils\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\nimport {TextArea} from \"../atoms\";\r\n\r\nconst ModalBody = styled.form`\r\n  background: #f4f5f7;\r\n  width: 90%;\r\n  max-width: 600px;\r\n  max-height: 800px;\r\n  border-radius: 6px;\r\n  padding: 15px;\r\n  box-shadow: 5px 12px 50px 3px rgba(0,0,0,0.5);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  font-size: 1.4rem;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin: 0 0 8px 0;\r\n`;\r\n\r\nconst AddMark = styled.span`\r\n  text-decoration: underline;\r\n  align-self: flex-start;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst RowContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: ${props => props.width || '100%'};\r\n`;\r\n\r\nconst Time = styled.time`\r\n  font-size: 0.9rem;\r\n  color: darkgray;\r\n`;\r\n\r\nexport const EditModal = withApollo(({closePortal, client, record}) => {\r\n    const {\r\n        id: recordId,\r\n        text: defaultText,\r\n        createdAt\r\n    } = record;\r\n\r\n    let modalBodyRef = useRef(null);\r\n    let textAreaRef = useRef(null);\r\n    let [isMarksOpen, setIsMarksOpen] = useState(false);\r\n    useOnClickOutside(modalBodyRef, closePortal);\r\n\r\n    const update = async event => {\r\n        event.preventDefault();\r\n\r\n        const text = textAreaRef.current.value;\r\n        if (text !== defaultText && text.length > 1 && text.length < 400) {\r\n            client.mutate({\r\n                mutation: UPDATE_RECORD,\r\n                variables: {\r\n                    text,\r\n                    recordId\r\n                }\r\n            })\r\n                .then(() => {\r\n                    updateRecord({text, recordId});\r\n                })\r\n                .catch(error => toast.error(getErrorMessage(error)));\r\n        }\r\n        closePortal();\r\n    };\r\n\r\n    const openCloseMarks = () => {\r\n        isMarksOpen ? setIsMarksOpen(false) : setIsMarksOpen(true);\r\n    };\r\n\r\n    const remove = () => {\r\n        client.mutate({\r\n            mutation: REMOVE_RECORD,\r\n            variables: {\r\n                recordId\r\n            }\r\n        })\r\n            .then(() => {\r\n                removeRecord(recordId);\r\n                closePortal();\r\n            })\r\n            .catch(error => toast.error(getErrorMessage(error)));\r\n    };\r\n\r\n    return (\r\n        <Modal>\r\n            <ModalBody ref={modalBodyRef} onSubmit={update}>\r\n                <Title>Edit record</Title>\r\n                <MiniMarks recordId={recordId}/>\r\n                <TextArea ref={textAreaRef} defaultValue={defaultText}/>\r\n                <RowContainer>\r\n                    <AddMark onClick={openCloseMarks}>Marks</AddMark>\r\n                    <Time datetime={createdAt}>{getTimeByMs(createdAt)}</Time>\r\n                </RowContainer>\r\n                {\r\n                    isMarksOpen && <Marks recordId={recordId}/>\r\n                }\r\n                <RowContainer width={'280px'}>\r\n                    <LuminousButton green>Save</LuminousButton>\r\n                    <LuminousButton red onClick={remove}>Remove</LuminousButton>\r\n                </RowContainer>\r\n            </ModalBody>\r\n        </Modal>\r\n    );\r\n});","export const getTimeByMs = ms => {\r\n    const date = new Date(parseInt(ms));\r\n\r\n    return `\r\n    ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}  \r\n    ${date.getDate()}.${date.getMonth()}.${date.getFullYear()}\r\n    `\r\n};","import React, {useRef} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {useOnClickOutside} from \"../hooks\";\r\nimport {Button} from \"../../../ui/atoms\";\r\n\r\nconst Container = styled.div`\r\n    background: #dfe1e6;\r\n    border-radius: 3px;\r\n    min-width: 270px;\r\n    min-height: 85px;\r\n    padding: 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    white-space: normal;\r\n    margin: 0 10px;\r\n`;\r\n\r\nconst TitleInput = styled.input``;\r\n\r\nconst AddButton = styled(Button)`\r\n    background-color: #5aac44;\r\n    box-shadow: 0 1px 0 0 #3f6f21;\r\n    color: #fff;\r\n    font-weight: 700;\r\n    line-height: 20px;\r\n    margin: 8px 4px 0 0;\r\n    padding: 6px 12px;\r\n    min-width: 60%;\r\n`;\r\n\r\n\r\nexport const NewColumn = ({closeNewColumn, createColumn}) => {\r\n    const containerRef = useRef(null);\r\n    const inputRef = useRef(null);\r\n\r\n    useOnClickOutside(containerRef, closeNewColumn);\r\n\r\n    const onClickAdd = async () => {\r\n        await createColumn(inputRef.current.value);\r\n        if(inputRef.current)\r\n            inputRef.current.value = '';\r\n    };\r\n\r\n    return (\r\n        <Container ref={containerRef}>\r\n            <TitleInput ref={inputRef}/>\r\n            <AddButton onClick={onClickAdd}>Add list</AddButton>\r\n        </Container>\r\n    );\r\n};","import {createEvent, createStore} from 'effector';\r\n\r\nexport const setCurrentBoard = createEvent('setCurrentBoard');\r\nexport const setCurrentBoardColor = createEvent('setCurrentBoardColor');\r\nexport const renameBoard = createEvent('renameBoard');\r\nexport const resetBoard = createEvent('resetBoard');\r\n\r\nconst initialState = {\r\n    id: null,\r\n    title: null,\r\n    color: null,\r\n};\r\n\r\nexport const $board = createStore(initialState)\r\n    .on(setCurrentBoard, (state, {id, title, color}) => {\r\n        state.id = id;\r\n        state.title = title;\r\n        state.color = color;\r\n        return {...state};\r\n    })\r\n    .on(setCurrentBoardColor, (state, color) => {\r\n        state.color = color;\r\n        return {...state};\r\n    })\r\n    .on(renameBoard, (state, title) => {\r\n        state.title = title;\r\n        return {...state};\r\n    })\r\n    .reset(resetBoard);","import React, {useRef, useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport {useOnClickOutside} from \"../hooks\";\r\nimport {Popover} from \"../../../ui/organisms\";\r\nimport {PopoverTitle} from \"../../../ui/molecules\";\r\nimport {ColorPicker, Loader, PopoverButton} from \"../../../ui/atoms\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {$board, setCurrentBoardColor} from \"../models/board\";\r\nimport {useStore} from \"effector-react\";\r\nimport {CHANGE_BOARD_COLOR, REMOVE_BOARD} from \"../api\";\r\nimport {withRouter} from \"react-router\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nconst ChangeColorContainer = styled.label`\r\n  margin: 10px 5px;\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n  color: #000;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ChangeColor = styled.span`\r\n  margin-right: 10px;\r\n`;\r\n\r\nexport const BoardPopover = withRouter(withApollo(({closePopover, history, client}) => {\r\n    let {id, color} = useStore($board);\r\n    let popoverRef = useRef(null);\r\n    let colorRef = useRef(null);\r\n    let [isLoading, setIsLoading] = useState(false);\r\n\r\n    const onChangeColor = event => {\r\n        const newColor = event.target.value;\r\n        setCurrentBoardColor(newColor);\r\n        client.mutate({\r\n            mutation: CHANGE_BOARD_COLOR,\r\n            variables: {\r\n                boardId: id,\r\n                color: newColor\r\n            }\r\n        }).catch(error => toast.error(getErrorMessage(error)));\r\n    };\r\n\r\n    useOnClickOutside(popoverRef, closePopover);\r\n\r\n    const removeBoard = () => {\r\n        setIsLoading(true);\r\n        client.mutate({\r\n            mutation: REMOVE_BOARD,\r\n            variables: {\r\n                boardId: id\r\n            }\r\n        })\r\n            .then(() => history.push('/boards'))\r\n            .catch(error => toast.error(getErrorMessage(error)))\r\n    };\r\n\r\n    const onClickChangeColor = () => {\r\n        colorRef.current.click();\r\n    };\r\n\r\n    return (\r\n        <Popover ref={popoverRef} left='calc(100% - 310px)' top='38px'>\r\n            <PopoverTitle>Actions with board</PopoverTitle>\r\n            <ChangeColorContainer htmlFor='colorPicked' onClick={onClickChangeColor}>\r\n                <ChangeColor>Change color</ChangeColor>\r\n                <ColorPicker onChange={onChangeColor} ref={colorRef} defaultValue={color}/>\r\n            </ChangeColorContainer>\r\n            <PopoverButton onClick={removeBoard} disabled={isLoading}>\r\n                Remove board\r\n                {\r\n                    isLoading && <Loader color='#fff'/>\r\n                }\r\n            </PopoverButton>\r\n        </Popover>\r\n    );\r\n}));","import React, {useState, useRef} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Button, Icon, SvgIcon} from \"../../../ui/atoms\";\r\nimport {BoardPopover} from \"../molecules/BoardPopover\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useOnClickOutside} from \"../hooks\";\r\nimport {Input} from \"../../auth/atoms\";\r\nimport {$board, renameBoard} from \"../models/board\";\r\nimport {useStore} from \"effector-react\";\r\nimport {RENAME_BOARD} from \"../api\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 40px;\r\n  padding: 0 10px 10px;\r\n  display: flex;\r\n`;\r\n\r\nconst LocalButton = styled(Button)`\r\n    position: relative;\r\n    color: #fff;\r\n    height: 30px;\r\n    padding: 4px 20px;\r\n    border-radius: 5px;\r\n    transition: 100ms;\r\n    margin-left: ${props => props.marginLeft};\r\n    \r\n    &:hover {\r\n      background-color: rgba(0, 0, 0, 0.35);\r\n    }\r\n`;\r\n\r\nconst HomeButton = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 30px;\r\n  width: 30px;\r\n  border-radius: 3px;\r\n  background-color: hsla(0,0%,100%,.2);\r\n  margin-right: 5px;\r\n`;\r\n\r\nexport const BoardHeader = withApollo(({client}) => {\r\n    let {id, title} = useStore($board);\r\n    let [isPopoverOpen, setIsPopoverOpen] = useState(false);\r\n    let [isTitleEdited, setIsTitleEdited] = useState(false);\r\n    let titleRef = useRef(null);\r\n\r\n    const openPopover = () => {\r\n        setIsPopoverOpen(true);\r\n    };\r\n\r\n    const closePopover = () => {\r\n        setIsPopoverOpen(false);\r\n    };\r\n\r\n    const editTitle = () => {\r\n        setIsTitleEdited(true);\r\n    };\r\n\r\n    const rename = () => {\r\n        const newTitle = titleRef.current.value;\r\n\r\n        if (newTitle !== title) {\r\n            client.mutate({\r\n                mutation: RENAME_BOARD,\r\n                variables: {\r\n                    boardId: id,\r\n                    title: newTitle\r\n                }\r\n            })\r\n                .then(() => renameBoard(newTitle))\r\n                .catch(error => toast.error(getErrorMessage(error)));\r\n        }\r\n        setIsTitleEdited(false);\r\n    };\r\n\r\n    useOnClickOutside(titleRef, rename);\r\n\r\n    return (\r\n        <Container>\r\n            <HomeButton to='/boards' aria-label='Go to boards list'>\r\n                <SvgIcon name='home' viewBox='0 0 611.997 611.998' fill='#fff' width={'1.1em'} height={'1.1em'}/>\r\n            </HomeButton>\r\n            {\r\n                isTitleEdited\r\n                    ? <Input autoFocus ref={titleRef} defaultValue={title} height={'30px'}/>\r\n                    : <LocalButton onClick={editTitle} aria-label='Edit board title'>{title}</LocalButton>\r\n            }\r\n            <LocalButton marginLeft='auto' onClick={openPopover} aria-label='Open board options'>\r\n                <Icon color='#fff' name={'ellipsis'}/>\r\n            </LocalButton>\r\n            {\r\n                isPopoverOpen && <BoardPopover closePopover={closePopover}/>\r\n            }\r\n        </Container>\r\n    );\r\n});","import React, {useState} from 'react';\r\nimport {NewColumn} from \"./NewColumn\";\r\nimport {AddColumnButton} from \"../atoms\";\r\nimport {CREATE_COLUMN} from \"../api\";\r\nimport {addColumn} from \"../models/dashboard\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nexport const NewColumnContainer = withApollo(({boardTitle, client}) => {\r\n    let [isNewColumn, setIsNewColumn] = useState(false);\r\n\r\n    const addNewColumn = () => {\r\n        setIsNewColumn(true);\r\n    };\r\n\r\n    const closeNewColumn = () => {\r\n        setIsNewColumn(false);\r\n    };\r\n\r\n    const createColumn = title => {\r\n        if (title.length > 0 && title.length < 20) {\r\n            client.mutate({\r\n                mutation: CREATE_COLUMN,\r\n                variables: {\r\n                    title,\r\n                    boardTitle\r\n                }\r\n            })\r\n                .then(({data}) => {\r\n                    addColumn(data.createColumn);\r\n                })\r\n                .catch(error => toast.error(getErrorMessage(error)));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isNewColumn\r\n                    ? <NewColumn createColumn={createColumn} closeNewColumn={closeNewColumn}/>\r\n                    : <AddColumnButton onClick={addNewColumn}>+ Add new list</AddColumnButton>\r\n            }\r\n        </>\r\n    );\r\n});","import React from 'react';\r\nimport {Column} from \"./Column\";\r\nimport {SortableContainer, SortableElement} from 'react-sortable-hoc';\r\nimport {$dashboard, reorderColumns} from \"../models/dashboard\";\r\nimport {useStore} from \"effector-react\";\r\nimport styled from \"styled-components\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {REORDER_COLUMNS} from \"../api\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nconst ColumnsList = styled.ul`\r\n    display: flex;\r\n`;\r\n\r\nexport const Columns = withApollo(({client}) => {\r\n    const {columns} = useStore($dashboard);\r\n\r\n    const onSortEnd = ({oldIndex, newIndex}) => {\r\n        if (newIndex !== oldIndex) {\r\n            reorderColumns({oldIndex, newIndex});\r\n            client.mutate({\r\n                mutation: REORDER_COLUMNS,\r\n                variables: {\r\n                    oldIndex: columns[oldIndex].index,\r\n                    newIndex: columns[newIndex].index\r\n                }\r\n            })\r\n                .catch(error => toast.error(getErrorMessage(error)));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <SortableList axis='x' items={columns} onSortEnd={onSortEnd}/>\r\n    );\r\n});\r\n\r\nconst SortableItem = SortableElement(({item}) => <Column item={item}/>);\r\n\r\n\r\nconst SortableList = SortableContainer(({items}) => (\r\n    <ColumnsList>\r\n        {\r\n            items.map((item, index) => (\r\n                <SortableItem key={`column-${index}`} index={index} item={item}/>\r\n            ))\r\n        }\r\n    </ColumnsList>\r\n));","import React, {useEffect} from 'react';\r\nimport {BoardHeader, NewColumnContainer} from \"../organisms\";\r\nimport styled from \"styled-components\";\r\nimport {Query, withApollo} from \"react-apollo\";\r\nimport {GET_BOARD, GET_COLUMNS} from \"../api\";\r\nimport {Columns} from \"../organisms/Columns\";\r\nimport {Loader} from \"../../../ui/atoms\";\r\nimport {setColumns} from \"../models/dashboard\";\r\nimport {setCurrentBoard} from \"../models/board\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nconst MainContent = styled.div`\r\n   display: flex;\r\n   align-items: flex-start;\r\n   width: 100%;\r\n   height: 100%;\r\n   margin-top: 10px;\r\n   overflow-x: auto;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: calc(100% - 40px);\r\n  padding: 10px 1% 0 1%;\r\n  background-color: ${props => props.theme.backgroundColor || '#0067a3'}\r\n`;\r\n\r\nexport const Dashboard = withApollo(({match: {params: {title: boardTitle}}, client}) => {\r\n    useEffect(() => {\r\n        client.query({\r\n            query: GET_BOARD,\r\n            variables: {\r\n                title: boardTitle\r\n            }\r\n        }).then(({data}) => {\r\n            setCurrentBoard(data.board);\r\n        }).catch(error => toast.error(getErrorMessage(error)));\r\n    }, [client, boardTitle]);\r\n\r\n    return (\r\n        <Container>\r\n            <Query query={GET_COLUMNS} variables={{title: boardTitle}} fetchPolicy='no-cache'>\r\n                {({data, loading, error}) => {\r\n                    if (loading)\r\n                        return <Loader width='40px' height='40px' color='#fff' animationDuration='0.8'/>;\r\n                    if (error)\r\n                        return <div>Error</div>;\r\n\r\n                    setColumns(data.columns);\r\n                    return (\r\n                        <>\r\n                            <BoardHeader/>\r\n                            <MainContent>\r\n                                <Columns/>\r\n                                <NewColumnContainer boardTitle={boardTitle}/>\r\n                            </MainContent>\r\n                        </>\r\n                    );\r\n                }}\r\n            </Query>\r\n        </Container>\r\n    );\r\n});","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\n\r\nexport const NotFound = () => (\r\n    <Container>\r\n        Page not found\r\n    </Container>\r\n);","import gql from \"graphql-tag\";\r\n\r\nexport const GET_BOARDS  = gql`\r\n    query boards {\r\n        boards {\r\n            id, title, color\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_BOARD = gql`\r\n    mutation createBoard ($title: String!, $color: String!) {\r\n        createBoard(title: $title, color: $color) {\r\n            id, title, color\r\n        }\r\n    }\r\n`;","import {createStore, createEvent} from 'effector';\r\n\r\nexport const setBoards = createEvent('setBoards');\r\nexport const addBoard = createEvent('addBoard');\r\nexport const resetBoards = createEvent('resetBoards');\r\n\r\nconst initialState = {\r\n    boards: null\r\n};\r\n\r\nexport const $boards = createStore(initialState)\r\n    .on(setBoards, (state, boards) => {\r\n            state.boards = boards;\r\n            return {...state};\r\n        }\r\n    )\r\n    .on(addBoard, (state, board) => {\r\n        state.boards.push(board);\r\n        return {...state};\r\n    })\r\n    .on(resetBoards, state => ({\r\n            ...state,\r\n            boards: null\r\n        })\r\n    );\r\n\r\n","import React, {useRef} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {ColorPicker, LuminousButton, Modal} from \"../../../ui/atoms\";\r\nimport {useOnClickOutside} from \"../../dashboard/hooks\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {Input} from \"../../auth/atoms\";\r\nimport {CREATE_BOARD} from \"../api\";\r\nimport {addBoard} from \"../models/boards\";\r\nimport {toast} from 'react-toastify';\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nconst ModalBody = styled.form`\r\n     background: #f4f5f7;\r\n     max-width: 340px;\r\n     height: 200px;\r\n     border-radius: 6px;\r\n     padding: 15px;\r\n     box-shadow: 5px 12px 50px 3px rgba(0,0,0,0.5);\r\n     display: flex;\r\n     flex-direction: column;\r\n     align-items: center;\r\n     justify-content: space-between;\r\n`;\r\n\r\nconst Title = styled.div`\r\n     font-size: 1.4rem;\r\n     font-weight: bold;\r\n     text-align: center;\r\n`;\r\n\r\nconst ChooseColor = styled.span`\r\n    margin-right: 15px;\r\n`;\r\n\r\nconst DataContainer = styled.div`\r\n   position: relative;\r\n   height: 35px;\r\n   width: 100%;\r\n   display: flex;\r\n   align-items: center;\r\n   padding: 0 5px;\r\n   cursor: pointer;\r\n`;\r\n\r\nexport const NewBoardModal = withApollo(({closePortal, client}) => {\r\n    const modalBodyRef = useRef(null);\r\n    const titleRef = useRef(null);\r\n    const colorRef = useRef(null);\r\n    useOnClickOutside(modalBodyRef, closePortal);\r\n\r\n    const createBoard = event => {\r\n        event.preventDefault();\r\n        const title = titleRef.current.value;\r\n        const color = colorRef.current.value;\r\n\r\n        if (title.length > 1 && title.length < 20 && color.length === 7) {\r\n            client.mutate({\r\n                mutation: CREATE_BOARD,\r\n                variables: {\r\n                    title,\r\n                    color\r\n                }\r\n            }).then(({data}) => {\r\n                addBoard(data.createBoard);\r\n            }).catch(error => toast.error(getErrorMessage(error)));\r\n        }\r\n\r\n        closePortal();\r\n    };\r\n\r\n    const onClickChooseColor = () => {\r\n        colorRef.current.click();\r\n    };\r\n\r\n    return (\r\n        <Modal>\r\n            <ModalBody ref={modalBodyRef} onSubmit={createBoard}>\r\n                <Title>Create board</Title>\r\n                <div>\r\n                    <Input ref={titleRef} placeholder='Board title'/>\r\n                    <DataContainer onClick={onClickChooseColor}>\r\n                        <ChooseColor>Choose color</ChooseColor>\r\n                        <ColorPicker ref={colorRef} type='color' defaultValue='#0b7abb'/>\r\n                    </DataContainer>\r\n                </div>\r\n                <LuminousButton type='submit' green margin={'0 0 5px 0'}>Create</LuminousButton>\r\n            </ModalBody>\r\n        </Modal>\r\n    );\r\n});","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Button, Icon, SvgIcon} from \"../../../ui/atoms\";\r\nimport usePortal from \"react-useportal\";\r\nimport {NewBoardModal} from \"./NewBoardModal\";\r\n\r\nconst Container = styled.aside`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-top: 10px;\r\n  width: 220px;\r\n`;\r\n\r\nconst LocalButton = styled(Button)`\r\n    text-align: left;\r\n    background-color: #e4f0f6;\r\n    color: #026aa7;\r\n    width: 100%;\r\n    border-radius: 5px;\r\n    box-shadow: none;\r\n    font-weight: 700;\r\n    min-height: 20px;\r\n    min-width: 160px;\r\n    overflow: hidden;\r\n    padding: 6px 12px;\r\n    text-decoration: none;\r\n    transition-duration: 85ms;\r\n    margin: 0 0 5px;\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nconst CreateBoard = styled(Button)`\r\n  display: flex;\r\n  align-items: center;\r\n  transition: 100ms;\r\n  border-radius: 5px;\r\n  min-height: 30px;\r\n  width: 100%;\r\n  text-align: left;\r\n  padding: 6px 12px;\r\n\r\n  &:hover {\r\n    background-color: #dfe0e4;\r\n  }\r\n  &:active {\r\n    background-color: lightgray;\r\n  }\r\n`;\r\n\r\nconst iconStyle = {marginRight: '10px'};\r\n\r\nexport const ControlPanel = () => {\r\n    const {openPortal, closePortal, isOpen, Portal} = usePortal();\r\n\r\n    const openCloseModal = () => {\r\n        isOpen ? closePortal() : openPortal();\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <LocalButton>\r\n                <SvgIcon name='board' viewBox=\"0 0 512.004 512.004\" style={iconStyle}/>\r\n                Boards\r\n            </LocalButton>\r\n            <CreateBoard onClick={openCloseModal}>\r\n                <Icon name='plus'/>\r\n                Create board\r\n            </CreateBoard>\r\n            {\r\n                isOpen &&\r\n                    <Portal>\r\n                        <NewBoardModal closePortal={closePortal}/>\r\n                    </Portal>\r\n            }\r\n        </Container>\r\n    );\r\n};","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\n      position: relative;\r\n      height: 100px;\r\n      width: 200px;\r\n      border-radius: 5px;\r\n      background-color: ${props => props.backgroundColor || '#0b7abb'};\r\n      margin: 10px;\r\n      text-align: center;\r\n      cursor: pointer;\r\n      \r\n      &:before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: linear-gradient(to bottom, rgba(0,0,0,0.2) 0%, rgba(0, 0, 0, 0) 100%);\r\n          z-index: 1;\r\n      }\r\n      \r\n      &:hover {\r\n          &:before {\r\n             background: linear-gradient(to bottom, rgba(0,0,0,0.2) 0%, rgba(0, 0, 0, 0) 150%);\r\n          }\r\n      }\r\n`;\r\n\r\nconst Title = styled.span`\r\n     position: absolute;\r\n     font-weight: 600;\r\n     font-size: 1.2rem;\r\n     color: #fff;\r\n     top: 2px;\r\n     left: 50%;\r\n     transform: translateX(-50%);\r\n     text-decoration: none;\r\n     z-index: 2;\r\n`;\r\n\r\nexport const Board = ({title, color}) => (\r\n    <Link to={`/boards/${title}`}>\r\n        <Container backgroundColor={color}>\r\n            <Title>{title}</Title>\r\n        </Container>\r\n    </Link>\r\n);","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Board} from \"../molecules\";\r\nimport {$boards} from \"../models/boards\";\r\nimport {useStore} from \"effector-react\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 0 20px;\r\n  transition: 100ms;\r\n  \r\n  @media (max-width: 425px) {\r\n      margin-top: 15px;\r\n      flex-direction: column;\r\n      align-items: center;\r\n  }\r\n`;\r\n\r\nexport const BoardsList = () => {\r\n    let {boards} = useStore($boards);\r\n\r\n    return (\r\n        <Container>\r\n            {\r\n                boards && boards.map(({id, title, color}) => <Board id={id} color={color} title={title} key={id}/>)\r\n            }\r\n        </Container>\r\n    );\r\n};","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Query} from \"react-apollo\";\r\nimport {Loader} from \"../../../ui/atoms\";\r\nimport {GET_BOARDS} from \"../api\";\r\nimport {setBoards} from \"../models/boards\";\r\nimport {BoardsList, ControlPanel} from \"../organisms\";\r\n\r\nconst Container = styled.div`\r\n    background-color: #fafbfc;\r\n    padding: 20px 10px;\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nconst Main = styled.div`\r\n    display: flex;\r\n    align-items: flex-start;\r\n    width: 100%;\r\n    max-width: 1240px;\r\n    margin: 15px auto 0;\r\n    \r\n    @media (max-width: 425px) {\r\n      flex-direction: column;\r\n      align-items: center;\r\n    }\r\n`;\r\n\r\nexport const Boards = () => (\r\n    <Query query={GET_BOARDS} fetchPolicy='no-cache'>\r\n        {({data, loading, error}) => {\r\n            if (loading)\r\n                return <Loader width='40px' height='40px' color='#fff' animationDuration='0.8'/>;\r\n            if (error)\r\n                return <div>Error</div>;\r\n\r\n            setBoards(data.boards);\r\n            return (\r\n                <Container>\r\n                    <Main>\r\n                        <ControlPanel/>\r\n                        <BoardsList/>\r\n                    </Main>\r\n                </Container>\r\n            );\r\n        }}\r\n    </Query>\r\n);","import {Welcome} from \"../features/auth/pages\";\r\nimport {Dashboard} from \"../features/dashboard\";\r\nimport {NotFound} from \"../features/common/pages\";\r\nimport {Boards} from \"../features/boards\";\r\n\r\nexport const routes = [\r\n    {\r\n        path: '/',\r\n        exact: true,\r\n        auth: false,\r\n        component: Welcome\r\n    },\r\n    {\r\n        path: '/boards',\r\n        exact: true,\r\n        auth: true,\r\n        component: Boards\r\n    },\r\n    {\r\n        path: '/boards/:title',\r\n        exact: true,\r\n        auth: true,\r\n        component: Dashboard\r\n    },\r\n    {\r\n        path: '*',\r\n        exact: false,\r\n        auth: false,\r\n        component: NotFound\r\n    }\r\n];","import React from 'react'\r\nimport {Redirect, Route} from 'react-router'\r\nimport {$auth} from \"../features/common/models/auth\";\r\nimport {useStore} from \"effector-react\";\r\n\r\nexport const PublicRoute = ({component: Component, ...rest}) => {\r\n    let {authenticated} = useStore($auth);\r\n\r\n    return (\r\n        <Route {...rest} render={props => (\r\n            !authenticated\r\n                ? <Component {...props}/>\r\n                : <Redirect to={{\r\n                    pathname: '/boards',\r\n                    state: {from: props.location}\r\n                }}/>\r\n        )}/>\r\n    );\r\n};","import React from 'react'\r\nimport {Redirect, Route} from 'react-router'\r\nimport {$auth} from \"../features/common/models/auth\";\r\nimport {useStore} from \"effector-react\";\r\n\r\nexport const PrivateRoute = ({component: Component, ...rest}) => {\r\n    let {authenticated} = useStore($auth);\r\n\r\n    return (\r\n        <Route {...rest} render={props => (\r\n            authenticated\r\n                ? <Component {...props}/>\r\n                : <Redirect to={{\r\n                    pathname: '/',\r\n                    state: {from: props.location}\r\n                }}/>\r\n        )}/>\r\n    );\r\n};","import gql from \"graphql-tag\";\r\n\r\nexport const LOGOUT = gql`\r\n    mutation logout {\r\n        logout\r\n    }\r\n`;","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {$auth, resetAuth} from \"../models/auth\";\r\nimport {useStore} from \"effector-react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {LOGOUT} from \"../api\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {resetDashboard} from \"../../dashboard/models/dashboard\";\r\nimport {LuminousButton} from \"../../../ui/atoms\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getErrorMessage} from \"../utils\";\r\n\r\nconst Container = styled.header`\r\n    position: relative;\r\n    width: 100%;\r\n    height: 40px;\r\n    box-shadow: inset 0 4px 8px -3px rgba(17, 17, 17, .06);\r\n    background-color: ${props => window.location.pathname === '/boards' ? '#028ee0' : props.theme.backgroundColor};\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 4px 20px;\r\n    align-items: center;\r\n    color: #fff;\r\n    \r\n    &:before {\r\n      content: '';\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background: rgba(0,0,0, 0.25);\r\n      z-index: 1;\r\n    }\r\n`;\r\n\r\nconst LogoLink = styled(Link)`\r\n    color: #fff;\r\n    font-weight: bold;\r\n    font-size: 1.1rem;\r\n    text-decoration: none;\r\n    z-index: 1;\r\n`;\r\n\r\nexport const Header = withRouter(withApollo(({client, history}) => {\r\n    let {authenticated} = useStore($auth);\r\n\r\n    const logout = () => {\r\n        client.mutate({\r\n            mutation: LOGOUT\r\n        })\r\n            .then(() => {\r\n                resetAuth();\r\n                resetDashboard();\r\n                history.push('/');\r\n            })\r\n            .catch(error => toast.error(getErrorMessage(error)));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {\r\n                authenticated &&\r\n                <Container>\r\n                    <LogoLink to={'/dashboard'}>Sticky Notes</LogoLink>\r\n                    <LuminousButton green onClick={logout} zIndex={1}>\r\n                        Logout\r\n                    </LuminousButton>\r\n                </Container>\r\n            }\r\n        </>\r\n    )\r\n}));","import React, {memo} from 'react'\r\nimport {BrowserRouter as Router, Switch} from 'react-router-dom'\r\nimport {routes} from './routes'\r\nimport {PublicRoute} from \"./Public\";\r\nimport {PrivateRoute} from \"./Private\";\r\nimport {Header} from \"../features/common/organisms\";\r\nimport {toast, ToastContainer} from \"react-toastify\";\r\n\r\nconst Routes = memo(() => (\r\n    <Router>\r\n        <Header/>\r\n        <Switch>\r\n            {\r\n                routes.map((route, i) =>\r\n                    route.auth\r\n                        ? <PrivateRoute key={i} {...route}/>\r\n                        : <PublicRoute key={i} {...route}/>\r\n                )\r\n            }\r\n        </Switch>\r\n        <ToastContainer position={toast.POSITION.BOTTOM_RIGHT}/>\r\n    </Router>\r\n));\r\n\r\nexport default Routes;","import React from 'react';\nimport {Query} from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport {setUser} from \"./features/common/models/auth\";\nimport Routes from \"./routes\";\nimport {ThemeProvider} from \"styled-components\";\nimport {useStore} from \"effector-react\";\nimport {$board} from \"./features/dashboard/models/board\";\nimport {Loader} from \"./ui/atoms\";\n\nconst GET_ME = gql`\n    query me {\n        me {\n            username\n        }\n    }\n`;\n\nconst App = () => {\n    let {color} = useStore($board);\n\n    return (\n        <Query query={GET_ME}>\n            {({data, loading, error}) => {\n                if (loading) return <Loader width='40px' height='40px' color='#fff' animationDuration='0.8'/>;\n                if (error) {\n                    console.log(error);\n                    return <div>Graph error</div>;\n                }\n\n                if (data.me)\n                    setUser(data.me);\n                return (\n                    <ThemeProvider theme={{backgroundColor: color}}>\n                        <Routes/>\n                    </ThemeProvider>\n                )\n            }}\n        </Query>\n    );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {createGlobalStyle} from \"styled-components\";\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n      body {\r\n        height: 100vh;\r\n        width: 100%;\r\n        \r\n         font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\r\n         \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\r\n         sans-serif;\r\n         -webkit-font-smoothing: antialiased;\r\n         -moz-osx-font-smoothing: grayscale;\r\n      }\r\n      \r\n      #root {\r\n        height: 100%;\r\n      }\r\n      \r\n      ul, li {\r\n      list-style: none;\r\n            padding: 0;\r\n     margin: 0;\r\n     }\r\n      \r\n     *, *:before, *:after {\r\n       box-sizing: border-box;\r\n     }\r\n      \r\n    ::-webkit-scrollbar {\r\n      width: 12px;\r\n      height: 12px;\r\n    }\r\n    ::-webkit-scrollbar-button {\r\n      width: 0;\r\n      height: 0;\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n      background: #e1e1e1;\r\n      border: 0 none #ffffff;\r\n      border-radius: 50px;\r\n    }\r\n    ::-webkit-scrollbar-thumb:hover {\r\n      background: #ffffff;\r\n    }\r\n    ::-webkit-scrollbar-thumb:active {\r\n      background: #e8e8e8;\r\n    }\r\n    ::-webkit-scrollbar-track {\r\n      background: #9b9b9b;\r\n      border: 0 none #ffffff;\r\n      border-radius: 22px;\r\n    }\r\n    ::-webkit-scrollbar-track:hover {\r\n      background: #a3a3a3;\r\n    }\r\n    ::-webkit-scrollbar-track:active {\r\n      background: #bbbbbb;\r\n    }\r\n    ::-webkit-scrollbar-corner {\r\n      background: transparent;\r\n    }\r\n`;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport ApolloClient from 'apollo-boost';\nimport {ApolloProvider} from 'react-apollo';\nimport {GlobalStyle} from \"./GlobalStyle\";\n\n\nconst client = new ApolloClient({\n    fetchOptions: {\n        credentials: 'include'\n    }\n});\n\nReactDOM.render(\n    <ApolloProvider client={client}>\n        <App/>\n        <GlobalStyle/>\n    </ApolloProvider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}