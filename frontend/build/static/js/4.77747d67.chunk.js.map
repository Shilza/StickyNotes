{"version":3,"sources":["features/boards/api/index.js","features/boards/models/boards.js","features/boards/organisms/NewBoardModal.js","features/boards/organisms/ControlPanel.js","features/boards/molecules/Board.js","features/boards/organisms/BoardsList.js","features/boards/pages/Boards.js","features/boards/index.js","features/dashboard/hooks/index.js","features/auth/atoms/Input.js","features/auth/atoms/Form.js","features/auth/atoms/Error.js","features/auth/atoms/SubmitButton.js","features/auth/atoms/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/react-useportal/dist/usePortal.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/use-ssr/dist/useSSR.js"],"names":["GET_BOARDS","gql","_templateObject","CREATE_BOARD","_templateObject2","setBoards","createEvent","addBoard","resetBoards","$boards","createStore","boards","on","state","Object","objectSpread","board","push","ModalBody","styled","form","NewBoardModal_templateObject","Title","div","NewBoardModal_templateObject2","ChooseColor","span","_templateObject3","DataContainer","_templateObject4","NewBoardModal","withApollo","_ref","closePortal","client","modalBodyRef","useRef","titleRef","colorRef","useOnClickOutside","react_default","a","createElement","atoms","ref","onSubmit","event","preventDefault","title","current","value","color","length","mutate","mutation","variables","then","_ref2","data","createBoard","catch","error","toast","getErrorMessage","auth_atoms","placeholder","onClick","click","type","defaultValue","green","margin","Container","aside","ControlPanel_templateObject","LocalButton","Button","ControlPanel_templateObject2","CreateBoard","ControlPanel_templateObject3","iconStyle","marginRight","ControlPanel","_usePortal","usePortal","openPortal","isOpen","Portal","name","viewBox","style","Board_templateObject","props","backgroundColor","Board_templateObject2","Board","react_router_dom","to","concat","Board_Container","Board_Title","BoardsList_templateObject","BoardsList","useStore","BoardsList_Container","map","id","Board_Board","key","Boards_templateObject","Main","Boards_templateObject2","Boards","react_apollo_esm","query","fetchPolicy","loading","width","height","animationDuration","Boards_Container","ControlPanel_ControlPanel","BoardsList_BoardsList","__webpack_require__","d","__webpack_exports__","Boards_Boards","react__WEBPACK_IMPORTED_MODULE_0__","handler","useEffect","listener","contains","target","document","addEventListener","removeEventListener","Input","input","Form","Form_templateObject","Error","Error_templateObject","SubmitButton","SubmitButton_templateObject","arrayWithHoles","iterableToArrayLimit","nonIterableRest","module","exports","arr","i","_slicedToArray","__importDefault","this","mod","__esModule","default","defineProperty","react_1","react_dom_1","use_ssr_1","arguments","undefined","_ref$closeOnOutsideCl","closeOnOutsideClick","_ref$closeOnEsc","closeOnEsc","renderOnClickedElement","renderBelowClickedElement","bindTo","_ref$isOpen","defaultIsOpen","_ref$stateful","stateful","_use_ssr_1$default","isServer","isBrowser","_react_1$useState","useState","_react_1$useState2","makeOpen","open","setOpen","useCallback","v","renderByRef","portal","elToMountTo","useMemo","findDOMNode","body","handleKeydown","e","keyCode","setTimeout","nativeEvent","stopImmediatePropagation","_e$target$getBounding","getBoundingClientRect","left","top","HTMLElement","position","togglePortal","handleOutsideMouseClick","button","node","appendChild","removeChild","_ref3","children","createPortal","assign","onMouseDown","bind","Array","isArray","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","err","TypeError","canUseDOM","window","inBrowser","setInBrowser","useSSRObject","canUseWorkers","Worker","canUseEventListeners","canUseViewport","screen","values"],"mappings":"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","file":"static/js/4.77747d67.chunk.js","sourcesContent":["import gql from \"graphql-tag\";\r\n\r\nexport const GET_BOARDS  = gql`\r\n    query boards {\r\n        boards {\r\n            id, title, color\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_BOARD = gql`\r\n    mutation createBoard ($title: String!, $color: String!) {\r\n        createBoard(title: $title, color: $color) {\r\n            id, title, color\r\n        }\r\n    }\r\n`;","import {createStore, createEvent} from 'effector';\r\n\r\nexport const setBoards = createEvent('setBoards');\r\nexport const addBoard = createEvent('addBoard');\r\nexport const resetBoards = createEvent('resetBoards');\r\n\r\nconst initialState = {\r\n    boards: null\r\n};\r\n\r\nexport const $boards = createStore(initialState)\r\n    .on(setBoards, (state, boards) => {\r\n            state.boards = boards;\r\n            return {...state};\r\n        }\r\n    )\r\n    .on(addBoard, (state, board) => {\r\n        state.boards.push(board);\r\n        return {...state};\r\n    })\r\n    .on(resetBoards, state => ({\r\n            ...state,\r\n            boards: null\r\n        })\r\n    );\r\n\r\n","import React, {useRef} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {ColorPicker, LuminousButton, Modal} from \"../../../ui/atoms\";\r\nimport {useOnClickOutside} from \"../../dashboard/hooks\";\r\nimport {withApollo} from \"react-apollo\";\r\nimport {Input} from \"../../auth/atoms\";\r\nimport {CREATE_BOARD} from \"../api\";\r\nimport {addBoard} from \"../models/boards\";\r\nimport {toast} from 'react-toastify';\r\nimport {getErrorMessage} from \"../../common/utils\";\r\n\r\nconst ModalBody = styled.form`\r\n     background: #f4f5f7;\r\n     max-width: 340px;\r\n     height: 200px;\r\n     border-radius: 6px;\r\n     padding: 15px;\r\n     box-shadow: 5px 12px 50px 3px rgba(0,0,0,0.5);\r\n     display: flex;\r\n     flex-direction: column;\r\n     align-items: center;\r\n     justify-content: space-between;\r\n`;\r\n\r\nconst Title = styled.div`\r\n     font-size: 1.4rem;\r\n     font-weight: bold;\r\n     text-align: center;\r\n`;\r\n\r\nconst ChooseColor = styled.span`\r\n    margin-right: 15px;\r\n`;\r\n\r\nconst DataContainer = styled.div`\r\n   position: relative;\r\n   height: 35px;\r\n   width: 100%;\r\n   display: flex;\r\n   align-items: center;\r\n   padding: 0 5px;\r\n   cursor: pointer;\r\n`;\r\n\r\nexport const NewBoardModal = withApollo(({closePortal, client}) => {\r\n    const modalBodyRef = useRef(null);\r\n    const titleRef = useRef(null);\r\n    const colorRef = useRef(null);\r\n    useOnClickOutside(modalBodyRef, closePortal);\r\n\r\n    const createBoard = event => {\r\n        event.preventDefault();\r\n        const title = titleRef.current.value;\r\n        const color = colorRef.current.value;\r\n\r\n        if (title.length > 1 && title.length < 20 && color.length === 7) {\r\n            client.mutate({\r\n                mutation: CREATE_BOARD,\r\n                variables: {\r\n                    title,\r\n                    color\r\n                }\r\n            }).then(({data}) => {\r\n                addBoard(data.createBoard);\r\n            }).catch(error => toast.error(getErrorMessage(error)));\r\n        }\r\n\r\n        closePortal();\r\n    };\r\n\r\n    const onClickChooseColor = () => {\r\n        colorRef.current.click();\r\n    };\r\n\r\n    return (\r\n        <Modal>\r\n            <ModalBody ref={modalBodyRef} onSubmit={createBoard}>\r\n                <Title>Create board</Title>\r\n                <div>\r\n                    <Input ref={titleRef} placeholder='Board title'/>\r\n                    <DataContainer onClick={onClickChooseColor}>\r\n                        <ChooseColor>Choose color</ChooseColor>\r\n                        <ColorPicker ref={colorRef} type='color' defaultValue='#0b7abb'/>\r\n                    </DataContainer>\r\n                </div>\r\n                <LuminousButton type='submit' green margin={'0 0 5px 0'}>Create</LuminousButton>\r\n            </ModalBody>\r\n        </Modal>\r\n    );\r\n});","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Button, Icon, SvgIcon} from \"../../../ui/atoms\";\r\nimport usePortal from \"react-useportal\";\r\nimport {NewBoardModal} from \"./NewBoardModal\";\r\n\r\nconst Container = styled.aside`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-top: 10px;\r\n  width: 220px;\r\n`;\r\n\r\nconst LocalButton = styled(Button)`\r\n    text-align: left;\r\n    background-color: #e4f0f6;\r\n    color: #026aa7;\r\n    width: 100%;\r\n    border-radius: 5px;\r\n    box-shadow: none;\r\n    font-weight: 700;\r\n    min-height: 20px;\r\n    min-width: 160px;\r\n    overflow: hidden;\r\n    padding: 6px 12px;\r\n    text-decoration: none;\r\n    transition-duration: 85ms;\r\n    margin: 0 0 5px;\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nconst CreateBoard = styled(Button)`\r\n  display: flex;\r\n  align-items: center;\r\n  transition: 100ms;\r\n  border-radius: 5px;\r\n  min-height: 30px;\r\n  width: 100%;\r\n  text-align: left;\r\n  padding: 6px 12px;\r\n\r\n  &:hover {\r\n    background-color: #dfe0e4;\r\n  }\r\n  &:active {\r\n    background-color: lightgray;\r\n  }\r\n`;\r\n\r\nconst iconStyle = {marginRight: '10px'};\r\n\r\nexport const ControlPanel = () => {\r\n    const {openPortal, closePortal, isOpen, Portal} = usePortal();\r\n\r\n    const openCloseModal = () => {\r\n        isOpen ? closePortal() : openPortal();\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <LocalButton>\r\n                <SvgIcon name='board' viewBox=\"0 0 512.004 512.004\" style={iconStyle}/>\r\n                Boards\r\n            </LocalButton>\r\n            <CreateBoard onClick={openCloseModal}>\r\n                <Icon name='plus'/>\r\n                Create board\r\n            </CreateBoard>\r\n            {\r\n                isOpen &&\r\n                    <Portal>\r\n                        <NewBoardModal closePortal={closePortal}/>\r\n                    </Portal>\r\n            }\r\n        </Container>\r\n    );\r\n};","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\n      position: relative;\r\n      height: 100px;\r\n      width: 200px;\r\n      border-radius: 5px;\r\n      background-color: ${props => props.backgroundColor || '#0b7abb'};\r\n      margin: 10px;\r\n      text-align: center;\r\n      cursor: pointer;\r\n      \r\n      &:before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: linear-gradient(to bottom, rgba(0,0,0,0.2) 0%, rgba(0, 0, 0, 0) 100%);\r\n          z-index: 1;\r\n      }\r\n      \r\n      &:hover {\r\n          &:before {\r\n             background: linear-gradient(to bottom, rgba(0,0,0,0.2) 0%, rgba(0, 0, 0, 0) 150%);\r\n          }\r\n      }\r\n`;\r\n\r\nconst Title = styled.span`\r\n     position: absolute;\r\n     font-weight: 600;\r\n     font-size: 1.2rem;\r\n     color: #fff;\r\n     top: 2px;\r\n     left: 50%;\r\n     transform: translateX(-50%);\r\n     text-decoration: none;\r\n     z-index: 2;\r\n`;\r\n\r\nexport const Board = ({title, color}) => (\r\n    <Link to={`/boards/${title}`}>\r\n        <Container backgroundColor={color}>\r\n            <Title>{title}</Title>\r\n        </Container>\r\n    </Link>\r\n);","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Board} from \"../molecules\";\r\nimport {$boards} from \"../models/boards\";\r\nimport {useStore} from \"effector-react\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 0 20px;\r\n  transition: 100ms;\r\n  height: 100%;\r\n  \r\n  @media (max-width: 425px) {\r\n      margin-top: 15px;\r\n      flex-direction: column;\r\n      align-items: center;\r\n  }\r\n`;\r\n\r\nexport const BoardsList = () => {\r\n    let {boards} = useStore($boards);\r\n\r\n    return (\r\n        <Container>\r\n            {\r\n                boards && boards.map(({id, title, color}) => <Board id={id} color={color} title={title} key={id}/>)\r\n            }\r\n        </Container>\r\n    );\r\n};","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {Query} from \"react-apollo\";\r\nimport {Loader} from \"../../../ui/atoms\";\r\nimport {GET_BOARDS} from \"../api\";\r\nimport {setBoards} from \"../models/boards\";\r\nimport {BoardsList, ControlPanel} from \"../organisms\";\r\n\r\nconst Container = styled.div`\r\n    background-color: #fafbfc;\r\n    padding: 20px 10px;\r\n    width: 100%;\r\n    height: calc(100% - 40px);\r\n    overflow-x: auto;\r\n`;\r\n\r\nconst Main = styled.div`\r\n    display: flex;\r\n    align-items: flex-start;\r\n    width: 100%;\r\n    max-width: 1240px;\r\n    margin: 15px auto 0;\r\n    \r\n    @media (max-width: 425px) {\r\n      flex-direction: column;\r\n      align-items: center;\r\n    }\r\n`;\r\n\r\nexport const Boards = () => (\r\n    <Query query={GET_BOARDS} fetchPolicy='no-cache'>\r\n        {({data, loading, error}) => {\r\n            if (loading)\r\n                return <Loader width='40px' height='40px' color='#fff' animationDuration='0.8'/>;\r\n            if (error)\r\n                return <div>Error</div>;\r\n\r\n            setBoards(data.boards);\r\n            return (\r\n                <Container>\r\n                    <Main>\r\n                        <ControlPanel/>\r\n                        <BoardsList/>\r\n                    </Main>\r\n                </Container>\r\n            );\r\n        }}\r\n    </Query>\r\n);","\r\nexport {Boards as default} from './pages';","import {useEffect} from 'react';\r\n\r\nexport const useOnClickOutside = (ref, handler) => {\r\n    useEffect(\r\n        () => {\r\n            const listener = event => {\r\n                // Do nothing if clicking ref's element or descendent elements\r\n                if (!ref.current || ref.current.contains(event.target)) {\r\n                    return;\r\n                }\r\n\r\n                handler(event);\r\n            };\r\n\r\n            document.addEventListener('mousedown', listener);\r\n            document.addEventListener('touchstart', listener);\r\n\r\n            return () => {\r\n                document.removeEventListener('mousedown', listener);\r\n                document.removeEventListener('touchstart', listener);\r\n            };\r\n        },\r\n        // Add ref and handler to effect dependencies\r\n        // It's worth noting that because passed in handler is a new ...\r\n        // ... function on every render that will cause this effect ...\r\n        // ... callback/cleanup to run every render. It's not a big deal ...\r\n        // ... but to optimize you can wrap handler in useCallback before ...\r\n        // ... passing it into this hook.\r\n        [ref, handler]\r\n    );\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const Input = styled.input`\r\n    border: 1px solid #d1d1d1;\r\n    height: ${props => props.height || '35px'}\r\n    padding: 0 10px;\r\n    outline: none;\r\n    transition: 0.4s;\r\n    box-sizing: border-box;\r\n    border-radius: 3px;\r\n    \r\n    &:focus {\r\n        border: 1px solid #2196f3;\r\n    }\r\n`;","import styled from \"styled-components\";\r\nimport {Input} from \"./Input\";\r\n\r\nexport const Form = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    max-width: 320px;\r\n    min-height: 200px;\r\n    justify-content: space-evenly;\r\n    \r\n    ${Input}+${Input} {\r\n      margin-top: 2px;\r\n    }\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const Error = styled.span`\r\n    color: red;\r\n    margin: 10px 0;\r\n`;","import styled from \"styled-components\";\r\nimport {Button} from \"../../../ui/atoms\";\r\n\r\nexport const SubmitButton = styled(Button)`\r\n    position: relative;\r\n    background-color: #00bcd5;\r\n    color: #ffffff;\r\n    height: 30px;\r\n    transition: background-color 0.2s ease-in-out;\r\n    margin-top: 10px;\r\n    \r\n    font-size: 14px;\r\n    line-height: 1.55;\r\n    font-weight: 600;\r\n    border-width: 1px;\r\n    border-radius: 3px;\r\n    background-position: center center;\r\n    border-color: transparent;\r\n    border-style: solid;\r\n    box-shadow: 0 5px 20px 0 rgba(25,105,176,1);\r\n    \r\n    &:hover {\r\n      background-color: #00abc1;\r\n    }\r\n    \r\n    &:active {\r\n      background-color: #009eb3;\r\n    }\r\n`;","\r\nexport {Input} from './Input';\r\nexport {Form} from './Form';\r\nexport {Error} from './Error';\r\nexport {SubmitButton} from './SubmitButton';","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","\"use strict\";\n\nvar _slicedToArray = require(\"D:\\\\fullstack-apollo-express-mongodb-boilerplate\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar react_dom_1 = require(\"react-dom\");\n\nvar use_ssr_1 = __importDefault(require(\"use-ssr\"));\n\nfunction usePortal() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$closeOnOutsideCl = _ref.closeOnOutsideClick,\n      closeOnOutsideClick = _ref$closeOnOutsideCl === void 0 ? true : _ref$closeOnOutsideCl,\n      _ref$closeOnEsc = _ref.closeOnEsc,\n      closeOnEsc = _ref$closeOnEsc === void 0 ? true : _ref$closeOnEsc,\n      renderOnClickedElement = _ref.renderOnClickedElement,\n      renderBelowClickedElement = _ref.renderBelowClickedElement,\n      bindTo = _ref.bindTo,\n      _ref$isOpen = _ref.isOpen,\n      defaultIsOpen = _ref$isOpen === void 0 ? false : _ref$isOpen,\n      _ref$stateful = _ref.stateful,\n      stateful = _ref$stateful === void 0 ? true : _ref$stateful;\n\n  var _use_ssr_1$default = use_ssr_1.default(),\n      isServer = _use_ssr_1$default.isServer,\n      isBrowser = _use_ssr_1$default.isBrowser;\n\n  var _react_1$useState = react_1.useState(defaultIsOpen),\n      _react_1$useState2 = _slicedToArray(_react_1$useState, 2),\n      isOpen = _react_1$useState2[0],\n      makeOpen = _react_1$useState2[1]; // we use this ref because `isOpen` is stale for handleOutsideMouseClick\n\n\n  var open = react_1.useRef(isOpen);\n  var setOpen = react_1.useCallback(function (v) {\n    // workaround to not have stale `isOpen` in the handleOutsideMouseClick\n    open.current = v;\n    makeOpen(v);\n  }, [isOpen, open.current]);\n  var renderByRef = react_1.useRef();\n  var portal = react_1.useRef(isBrowser && document.createElement('div'));\n  react_1.useEffect(function () {\n    if (isBrowser && !portal.current) portal.current = document.createElement('div');\n  }, [isBrowser]);\n  var elToMountTo = react_1.useMemo(function () {\n    if (isServer) return;\n    return bindTo && react_dom_1.findDOMNode(bindTo) || document.body;\n  }, [isServer, bindTo]);\n  var handleKeydown = react_1.useCallback(function (e) {\n    var ESC = 27;\n    if (e.keyCode === ESC && stateful && closeOnEsc) setOpen(false);\n  }, [closeOnEsc, stateful, setOpen]);\n  var openPortal = react_1.useCallback(function (e) {\n    if (isServer) return; // for some reason, when we don't have the event argument there\n    // is a weird race condition, would like to see if we can remove\n    // setTimeout, but for now this works\n\n    if (e == null) return setTimeout(function () {\n      return stateful && setOpen(true);\n    }, 0);\n    if (e && e.nativeEvent) e.nativeEvent.stopImmediatePropagation();\n\n    var _e$target$getBounding = e.target.getBoundingClientRect(),\n        left = _e$target$getBounding.left,\n        top = _e$target$getBounding.top,\n        height = _e$target$getBounding.height;\n\n    if (renderOnClickedElement && portal.current instanceof HTMLElement) {\n      portal.current.style.height = '0px';\n      portal.current.style.position = 'absolute';\n      portal.current.style.left = left + 'px';\n      portal.current.style.top = top + 'px';\n    } else if (renderBelowClickedElement && portal.current instanceof HTMLElement) {\n      portal.current.style.position = 'absolute';\n      portal.current.style.left = left + 'px';\n      portal.current.style.top = top + height + 'px';\n    }\n\n    stateful && setOpen(true);\n  }, [isServer, stateful, portal, setOpen, renderBelowClickedElement, renderOnClickedElement]);\n  var closePortal = react_1.useCallback(function () {\n    if (isServer) return;\n    if (open.current) setOpen(false);\n  }, [isServer, isOpen, open.current, setOpen]);\n  var togglePortal = react_1.useCallback(function (e) {\n    return isOpen ? setOpen(false) : openPortal(e);\n  }, [isOpen, open.current, setOpen, openPortal]);\n  var handleOutsideMouseClick = react_1.useCallback(function (_ref2) {\n    var target = _ref2.target,\n        button = _ref2.button;\n    if (isServer || !(portal.current instanceof HTMLElement)) return;\n    if (portal.current.contains(target) || button !== 0 || !open.current) return;\n    if (stateful && closeOnOutsideClick) closePortal();\n  }, [isServer, isOpen, stateful, closePortal, closeOnOutsideClick]);\n  react_1.useEffect(function () {\n    if (isServer || !(elToMountTo instanceof HTMLElement) || !(portal.current instanceof HTMLElement)) return;\n    var node = portal.current;\n    elToMountTo.appendChild(portal.current);\n    document && document.addEventListener('keydown', handleKeydown);\n    document && document.addEventListener('click', handleOutsideMouseClick);\n    return function () {\n      document && document.removeEventListener('keydown', handleKeydown);\n      document && document.removeEventListener('click', handleOutsideMouseClick);\n      elToMountTo.removeChild(node);\n    };\n  }, [isServer, handleOutsideMouseClick, handleKeydown, elToMountTo]);\n  var Portal = react_1.useCallback(function (_ref3) {\n    var children = _ref3.children;\n    if (portal.current instanceof HTMLElement) return react_dom_1.createPortal(children, portal.current);\n    return null;\n  }, []);\n  return Object.assign([openPortal, closePortal, open.current, Portal, togglePortal], {\n    isOpen: open.current,\n    openPortal: openPortal,\n    onMouseDown: handleKeydown,\n    ref: renderByRef,\n    closePortal: closePortal,\n    togglePortal: togglePortal,\n    Portal: Portal,\n    bind: {\n      onMouseDown: handleKeydown,\n      ref: renderByRef\n    }\n  });\n}\n\nexports.default = usePortal;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","\"use strict\";\n\nvar _slicedToArray = require(\"D:\\\\fullstack-apollo-express-mongodb-boilerplate\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction useSSR() {\n  var _react_1$useState = react_1.useState(canUseDOM),\n      _react_1$useState2 = _slicedToArray(_react_1$useState, 2),\n      inBrowser = _react_1$useState2[0],\n      setInBrowser = _react_1$useState2[1];\n\n  react_1.useEffect(function () {\n    setInBrowser(canUseDOM);\n    return function () {\n      setInBrowser(false);\n    };\n  }, []);\n  var useSSRObject = react_1.useMemo(function () {\n    return {\n      isBrowser: inBrowser,\n      isServer: !inBrowser,\n      canUseWorkers: typeof Worker !== 'undefined',\n      canUseEventListeners: inBrowser && !!window.addEventListener,\n      canUseViewport: inBrowser && !!window.screen\n    };\n  }, [inBrowser]);\n  return react_1.useMemo(function () {\n    return Object.assign(Object.values(useSSRObject), useSSRObject);\n  }, [inBrowser]);\n}\n\nexports.default = useSSR;"],"sourceRoot":""}